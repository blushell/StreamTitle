(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Hr(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Z={},Xt=[],ot=()=>{},zl=()=>!1,$s=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Vr=t=>t.startsWith("onUpdate:"),pe=Object.assign,Wr=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Zl=Object.prototype.hasOwnProperty,G=(t,e)=>Zl.call(t,e),N=Array.isArray,Gt=t=>Hn(t)==="[object Map]",ln=t=>Hn(t)==="[object Set]",ki=t=>Hn(t)==="[object Date]",B=t=>typeof t=="function",le=t=>typeof t=="string",at=t=>typeof t=="symbol",re=t=>t!==null&&typeof t=="object",Fo=t=>(re(t)||B(t))&&B(t.then)&&B(t.catch),No=Object.prototype.toString,Hn=t=>No.call(t),ec=t=>Hn(t).slice(8,-1),ko=t=>Hn(t)==="[object Object]",Kr=t=>le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Pn=Hr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},tc=/-(\w)/g,vt=Fs(t=>t.replace(tc,(e,n)=>n?n.toUpperCase():"")),nc=/\B([A-Z])/g,Lt=Fs(t=>t.replace(nc,"-$1").toLowerCase()),Do=Fs(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gs=Fs(t=>t?`on${Do(t)}`:""),xt=(t,e)=>!Object.is(t,e),ls=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Lo=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},xs=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Di;const Ns=()=>Di||(Di=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jr(t){if(N(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=le(s)?oc(s):Jr(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(le(t)||re(t))return t}const sc=/;(?![^(]*\))/g,rc=/:([^]+)/,ic=/\/\*[^]*?\*\//g;function oc(t){const e={};return t.replace(ic,"").split(sc).forEach(n=>{if(n){const s=n.split(rc);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ks(t){let e="";if(le(t))e=t;else if(N(t))for(let n=0;n<t.length;n++){const s=ks(t[n]);s&&(e+=s+" ")}else if(re(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ac="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lc=Hr(ac);function Bo(t){return!!t||t===""}function cc(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ft(t[s],e[s]);return n}function Ft(t,e){if(t===e)return!0;let n=ki(t),s=ki(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=at(t),s=at(e),n||s)return t===e;if(n=N(t),s=N(e),n||s)return n&&s?cc(t,e):!1;if(n=re(t),s=re(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ft(t[o],e[o]))return!1}}return String(t)===String(e)}function qr(t,e){return t.findIndex(n=>Ft(n,e))}const Uo=t=>!!(t&&t.__v_isRef===!0),cs=t=>le(t)?t:t==null?"":N(t)||re(t)&&(t.toString===No||!B(t.toString))?Uo(t)?cs(t.value):JSON.stringify(t,jo,2):String(t),jo=(t,e)=>Uo(e)?jo(t,e.value):Gt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Qs(s,i)+" =>"]=r,n),{})}:ln(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Qs(n))}:at(e)?Qs(e):re(e)&&!N(e)&&!ko(e)?String(e):e,Qs=(t,e="")=>{var n;return at(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ke;class uc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!e&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ke;try{return ke=this,e()}finally{ke=n}}}on(){ke=this}off(){ke=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function fc(){return ke}let ne;const Ys=new WeakSet;class Ho{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ys.has(this)&&(Ys.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Li(this),Ko(this);const e=ne,n=Xe;ne=this,Xe=!0;try{return this.fn()}finally{Jo(this),ne=e,Xe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Qr(e);this.deps=this.depsTail=void 0,Li(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ys.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gr(this)&&this.run()}get dirty(){return gr(this)}}let Vo=0,Rn,Tn;function Wo(t,e=!1){if(t.flags|=8,e){t.next=Tn,Tn=t;return}t.next=Rn,Rn=t}function Xr(){Vo++}function Gr(){if(--Vo>0)return;if(Tn){let e=Tn;for(Tn=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Rn;){let e=Rn;for(Rn=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Ko(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Jo(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Qr(s),dc(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function gr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(qo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function qo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Nn))return;t.globalVersion=Nn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!gr(t)){t.flags&=-3;return}const n=ne,s=Xe;ne=t,Xe=!0;try{Ko(t);const r=t.fn(t._value);(e.version===0||xt(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{ne=n,Xe=s,Jo(t),t.flags&=-3}}function Qr(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Qr(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function dc(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Xe=!0;const Xo=[];function Ct(){Xo.push(Xe),Xe=!1}function At(){const t=Xo.pop();Xe=t===void 0?!0:t}function Li(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ne;ne=void 0;try{e()}finally{ne=n}}}let Nn=0;class hc{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ne||!Xe||ne===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ne)n=this.activeLink=new hc(ne,this),ne.deps?(n.prevDep=ne.depsTail,ne.depsTail.nextDep=n,ne.depsTail=n):ne.deps=ne.depsTail=n,Go(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ne.depsTail,n.nextDep=void 0,ne.depsTail.nextDep=n,ne.depsTail=n,ne.deps===n&&(ne.deps=s)}return n}trigger(e){this.version++,Nn++,this.notify(e)}notify(e){Xr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Gr()}}}function Go(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Go(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _r=new WeakMap,$t=Symbol(""),yr=Symbol(""),kn=Symbol("");function ye(t,e,n){if(Xe&&ne){let s=_r.get(t);s||_r.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Yr),r.map=s,r.key=n),r.track()}}function ht(t,e,n,s,r,i){const o=_r.get(t);if(!o){Nn++;return}const a=l=>{l&&l.trigger()};if(Xr(),e==="clear")o.forEach(a);else{const l=N(t),c=l&&Kr(n);if(l&&n==="length"){const f=Number(s);o.forEach((d,p)=>{(p==="length"||p===kn||!at(p)&&p>=f)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(kn)),e){case"add":l?c&&a(o.get("length")):(a(o.get($t)),Gt(t)&&a(o.get(yr)));break;case"delete":l||(a(o.get($t)),Gt(t)&&a(o.get(yr)));break;case"set":Gt(t)&&a(o.get($t));break}}Gr()}function Ut(t){const e=X(t);return e===t?e:(ye(e,"iterate",kn),Ue(t)?e:e.map(be))}function Ds(t){return ye(t=X(t),"iterate",kn),t}const pc={__proto__:null,[Symbol.iterator](){return zs(this,Symbol.iterator,be)},concat(...t){return Ut(this).concat(...t.map(e=>N(e)?Ut(e):e))},entries(){return zs(this,"entries",t=>(t[1]=be(t[1]),t))},every(t,e){return ct(this,"every",t,e,void 0,arguments)},filter(t,e){return ct(this,"filter",t,e,n=>n.map(be),arguments)},find(t,e){return ct(this,"find",t,e,be,arguments)},findIndex(t,e){return ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ct(this,"findLast",t,e,be,arguments)},findLastIndex(t,e){return ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return Zs(this,"includes",t)},indexOf(...t){return Zs(this,"indexOf",t)},join(t){return Ut(this).join(t)},lastIndexOf(...t){return Zs(this,"lastIndexOf",t)},map(t,e){return ct(this,"map",t,e,void 0,arguments)},pop(){return _n(this,"pop")},push(...t){return _n(this,"push",t)},reduce(t,...e){return Bi(this,"reduce",t,e)},reduceRight(t,...e){return Bi(this,"reduceRight",t,e)},shift(){return _n(this,"shift")},some(t,e){return ct(this,"some",t,e,void 0,arguments)},splice(...t){return _n(this,"splice",t)},toReversed(){return Ut(this).toReversed()},toSorted(t){return Ut(this).toSorted(t)},toSpliced(...t){return Ut(this).toSpliced(...t)},unshift(...t){return _n(this,"unshift",t)},values(){return zs(this,"values",be)}};function zs(t,e,n){const s=Ds(t),r=s[e]();return s!==t&&!Ue(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const mc=Array.prototype;function ct(t,e,n,s,r,i){const o=Ds(t),a=o!==t&&!Ue(t),l=o[e];if(l!==mc[e]){const d=l.apply(t,i);return a?be(d):d}let c=n;o!==t&&(a?c=function(d,p){return n.call(this,be(d),p,t)}:n.length>2&&(c=function(d,p){return n.call(this,d,p,t)}));const f=l.call(o,c,s);return a&&r?r(f):f}function Bi(t,e,n,s){const r=Ds(t);let i=n;return r!==t&&(Ue(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,be(a),l,t)}),r[e](i,...s)}function Zs(t,e,n){const s=X(t);ye(s,"iterate",kn);const r=s[e](...n);return(r===-1||r===!1)&&ei(n[0])?(n[0]=X(n[0]),s[e](...n)):r}function _n(t,e,n=[]){Ct(),Xr();const s=X(t)[e].apply(t,n);return Gr(),At(),s}const gc=Hr("__proto__,__v_isRef,__isVue"),Qo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(at));function _c(t){at(t)||(t=String(t));const e=X(this);return ye(e,"has",t),e.hasOwnProperty(t)}class Yo{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Pc:ta:i?ea:Zo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=N(e);if(!r){let l;if(o&&(l=pc[n]))return l;if(n==="hasOwnProperty")return _c}const a=Reflect.get(e,n,we(e)?e:s);return(at(n)?Qo.has(n):gc(n))||(r||ye(e,"get",n),i)?a:we(a)?o&&Kr(n)?a:a.value:re(a)?r?na(a):Ls(a):a}}class zo extends Yo{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=Nt(i);if(!Ue(s)&&!Nt(s)&&(i=X(i),s=X(s)),!N(e)&&we(i)&&!we(s))return l?!1:(i.value=s,!0)}const o=N(e)&&Kr(n)?Number(n)<e.length:G(e,n),a=Reflect.set(e,n,s,we(e)?e:r);return e===X(r)&&(o?xt(s,i)&&ht(e,"set",n,s):ht(e,"add",n,s)),a}deleteProperty(e,n){const s=G(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&ht(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!at(n)||!Qo.has(n))&&ye(e,"has",n),s}ownKeys(e){return ye(e,"iterate",N(e)?"length":$t),Reflect.ownKeys(e)}}class yc extends Yo{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const bc=new zo,wc=new yc,xc=new zo(!0);const br=t=>t,zn=t=>Reflect.getPrototypeOf(t);function vc(t,e,n){return function(...s){const r=this.__v_raw,i=X(r),o=Gt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),f=n?br:e?wr:be;return!e&&ye(i,"iterate",l?yr:$t),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function Zn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Sc(t,e){const n={get(r){const i=this.__v_raw,o=X(i),a=X(r);t||(xt(r,a)&&ye(o,"get",r),ye(o,"get",a));const{has:l}=zn(o),c=e?br:t?wr:be;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&ye(X(r),"iterate",$t),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=X(i),a=X(r);return t||(xt(r,a)&&ye(o,"has",r),ye(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=X(a),c=e?br:t?wr:be;return!t&&ye(l,"iterate",$t),a.forEach((f,d)=>r.call(i,c(f),c(d),o))}};return pe(n,t?{add:Zn("add"),set:Zn("set"),delete:Zn("delete"),clear:Zn("clear")}:{add(r){!e&&!Ue(r)&&!Nt(r)&&(r=X(r));const i=X(this);return zn(i).has.call(i,r)||(i.add(r),ht(i,"add",r,r)),this},set(r,i){!e&&!Ue(i)&&!Nt(i)&&(i=X(i));const o=X(this),{has:a,get:l}=zn(o);let c=a.call(o,r);c||(r=X(r),c=a.call(o,r));const f=l.call(o,r);return o.set(r,i),c?xt(i,f)&&ht(o,"set",r,i):ht(o,"add",r,i),this},delete(r){const i=X(this),{has:o,get:a}=zn(i);let l=o.call(i,r);l||(r=X(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&ht(i,"delete",r,void 0),c},clear(){const r=X(this),i=r.size!==0,o=r.clear();return i&&ht(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=vc(r,t,e)}),n}function zr(t,e){const n=Sc(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(G(n,r)&&r in s?n:s,r,i)}const Cc={get:zr(!1,!1)},Ac={get:zr(!1,!0)},Ec={get:zr(!0,!1)};const Zo=new WeakMap,ea=new WeakMap,ta=new WeakMap,Pc=new WeakMap;function Rc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tc(t){return t.__v_skip||!Object.isExtensible(t)?0:Rc(ec(t))}function Ls(t){return Nt(t)?t:Zr(t,!1,bc,Cc,Zo)}function Oc(t){return Zr(t,!1,xc,Ac,ea)}function na(t){return Zr(t,!0,wc,Ec,ta)}function Zr(t,e,n,s,r){if(!re(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Tc(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Qt(t){return Nt(t)?Qt(t.__v_raw):!!(t&&t.__v_isReactive)}function Nt(t){return!!(t&&t.__v_isReadonly)}function Ue(t){return!!(t&&t.__v_isShallow)}function ei(t){return t?!!t.__v_raw:!1}function X(t){const e=t&&t.__v_raw;return e?X(e):t}function Ic(t){return!G(t,"__v_skip")&&Object.isExtensible(t)&&Lo(t,"__v_skip",!0),t}const be=t=>re(t)?Ls(t):t,wr=t=>re(t)?na(t):t;function we(t){return t?t.__v_isRef===!0:!1}function vs(t){return Mc(t,!1)}function Mc(t,e){return we(t)?t:new $c(t,e)}class $c{constructor(e,n){this.dep=new Yr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:X(e),this._value=n?e:be(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ue(e)||Nt(e);e=s?e:X(e),xt(e,n)&&(this._rawValue=e,this._value=s?e:be(e),this.dep.trigger())}}function J(t){return we(t)?t.value:t}const Fc={get:(t,e,n)=>e==="__v_raw"?t:J(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return we(r)&&!we(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function sa(t){return Qt(t)?t:new Proxy(t,Fc)}class Nc{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Yr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Nn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ne!==this)return Wo(this,!0),!0}get value(){const e=this.dep.track();return qo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function kc(t,e,n=!1){let s,r;return B(t)?s=t:(s=t.get,r=t.set),new Nc(s,r,n)}const es={},Ss=new WeakMap;let Ot;function Dc(t,e=!1,n=Ot){if(n){let s=Ss.get(n);s||Ss.set(n,s=[]),s.push(t)}}function Lc(t,e,n=Z){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,c=S=>r?S:Ue(S)||r===!1||r===0?pt(S,1):pt(S);let f,d,p,g,_=!1,w=!1;if(we(t)?(d=()=>t.value,_=Ue(t)):Qt(t)?(d=()=>c(t),_=!0):N(t)?(w=!0,_=t.some(S=>Qt(S)||Ue(S)),d=()=>t.map(S=>{if(we(S))return S.value;if(Qt(S))return c(S);if(B(S))return l?l(S,2):S()})):B(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){Ct();try{p()}finally{At()}}const S=Ot;Ot=f;try{return l?l(t,3,[g]):t(g)}finally{Ot=S}}:d=ot,e&&r){const S=d,U=r===!0?1/0:r;d=()=>pt(S(),U)}const R=fc(),k=()=>{f.stop(),R&&R.active&&Wr(R.effects,f)};if(i&&e){const S=e;e=(...U)=>{S(...U),k()}}let A=w?new Array(t.length).fill(es):es;const M=S=>{if(!(!(f.flags&1)||!f.dirty&&!S))if(e){const U=f.run();if(r||_||(w?U.some((j,D)=>xt(j,A[D])):xt(U,A))){p&&p();const j=Ot;Ot=f;try{const D=[U,A===es?void 0:w&&A[0]===es?[]:A,g];l?l(e,3,D):e(...D),A=U}finally{Ot=j}}}else f.run()};return a&&a(M),f=new Ho(d),f.scheduler=o?()=>o(M,!1):M,g=S=>Dc(S,!1,f),p=f.onStop=()=>{const S=Ss.get(f);if(S){if(l)l(S,4);else for(const U of S)U();Ss.delete(f)}},e?s?M(!0):A=f.run():o?o(M.bind(null,!0),!0):f.run(),k.pause=f.pause.bind(f),k.resume=f.resume.bind(f),k.stop=k,k}function pt(t,e=1/0,n){if(e<=0||!re(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,we(t))pt(t.value,e,n);else if(N(t))for(let s=0;s<t.length;s++)pt(t[s],e,n);else if(ln(t)||Gt(t))t.forEach(s=>{pt(s,e,n)});else if(ko(t)){for(const s in t)pt(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&pt(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vn(t,e,n,s){try{return s?t(...s):t()}catch(r){Bs(r,e,n)}}function lt(t,e,n,s){if(B(t)){const r=Vn(t,e,n,s);return r&&Fo(r)&&r.catch(i=>{Bs(i,e,n)}),r}if(N(t)){const r=[];for(let i=0;i<t.length;i++)r.push(lt(t[i],e,n,s));return r}}function Bs(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Z;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](t,l,c)===!1)return}a=a.parent}if(i){Ct(),Vn(i,null,10,[t,l,c]),At();return}}Bc(t,n,r,s,o)}function Bc(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Se=[];let tt=-1;const Yt=[];let bt=null,Vt=0;const ra=Promise.resolve();let Cs=null;function ia(t){const e=Cs||ra;return t?e.then(this?t.bind(this):t):e}function Uc(t){let e=tt+1,n=Se.length;for(;e<n;){const s=e+n>>>1,r=Se[s],i=Dn(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function ti(t){if(!(t.flags&1)){const e=Dn(t),n=Se[Se.length-1];!n||!(t.flags&2)&&e>=Dn(n)?Se.push(t):Se.splice(Uc(e),0,t),t.flags|=1,oa()}}function oa(){Cs||(Cs=ra.then(la))}function jc(t){N(t)?Yt.push(...t):bt&&t.id===-1?bt.splice(Vt+1,0,t):t.flags&1||(Yt.push(t),t.flags|=1),oa()}function Ui(t,e,n=tt+1){for(;n<Se.length;n++){const s=Se[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Se.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function aa(t){if(Yt.length){const e=[...new Set(Yt)].sort((n,s)=>Dn(n)-Dn(s));if(Yt.length=0,bt){bt.push(...e);return}for(bt=e,Vt=0;Vt<bt.length;Vt++){const n=bt[Vt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}bt=null,Vt=0}}const Dn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function la(t){try{for(tt=0;tt<Se.length;tt++){const e=Se[tt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Vn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;tt<Se.length;tt++){const e=Se[tt];e&&(e.flags&=-2)}tt=-1,Se.length=0,aa(),Cs=null,(Se.length||Yt.length)&&la()}}let Be=null,ca=null;function As(t){const e=Be;return Be=t,ca=t&&t.type.__scopeId||null,e}function Hc(t,e=Be,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Xi(-1);const i=As(e);let o;try{o=t(...r)}finally{As(i),s._d&&Xi(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ee(t,e){if(Be===null)return t;const n=Vs(Be),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=Z]=e[r];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Rt(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Ct(),lt(l,n,8,[t.el,a,t,e]),At())}}const Vc=Symbol("_vte"),Wc=t=>t.__isTeleport;function ni(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ni(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ua(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Es(t,e,n,s,r=!1){if(N(t)){t.forEach((_,w)=>Es(_,e&&(N(e)?e[w]:e),n,s,r));return}if(On(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Es(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Vs(s.component):s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,f=a.refs===Z?a.refs={}:a.refs,d=a.setupState,p=X(d),g=d===Z?()=>!1:_=>G(p,_);if(c!=null&&c!==l&&(le(c)?(f[c]=null,g(c)&&(d[c]=null)):we(c)&&(c.value=null)),B(l))Vn(l,a,12,[o,f]);else{const _=le(l),w=we(l);if(_||w){const R=()=>{if(t.f){const k=_?g(l)?d[l]:f[l]:l.value;r?N(k)&&Wr(k,i):N(k)?k.includes(i)||k.push(i):_?(f[l]=[i],g(l)&&(d[l]=f[l])):(l.value=[i],t.k&&(f[t.k]=l.value))}else _?(f[l]=o,g(l)&&(d[l]=o)):w&&(l.value=o,t.k&&(f[t.k]=o))};o?(R.id=-1,Fe(R,n)):R()}}}Ns().requestIdleCallback;Ns().cancelIdleCallback;const On=t=>!!t.type.__asyncLoader,fa=t=>t.type.__isKeepAlive;function Kc(t,e){da(t,"a",e)}function Jc(t,e){da(t,"da",e)}function da(t,e,n=Ce){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Us(e,s,n),n){let r=n.parent;for(;r&&r.parent;)fa(r.parent.vnode)&&qc(s,e,n,r),r=r.parent}}function qc(t,e,n,s){const r=Us(e,t,s,!0);pa(()=>{Wr(s[e],r)},n)}function Us(t,e,n=Ce,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ct();const a=Wn(n),l=lt(e,n,t,o);return a(),At(),l});return s?r.unshift(i):r.push(i),i}}const gt=t=>(e,n=Ce)=>{(!Bn||t==="sp")&&Us(t,(...s)=>e(...s),n)},Xc=gt("bm"),ha=gt("m"),Gc=gt("bu"),Qc=gt("u"),Yc=gt("bum"),pa=gt("um"),zc=gt("sp"),Zc=gt("rtg"),eu=gt("rtc");function tu(t,e=Ce){Us("ec",t,e)}const nu=Symbol.for("v-ndc");function ma(t,e,n,s){let r;const i=n,o=N(t);if(o||le(t)){const a=o&&Qt(t);let l=!1;a&&(l=!Ue(t),t=Ds(t)),r=new Array(t.length);for(let c=0,f=t.length;c<f;c++)r[c]=e(l?be(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(re(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];r[l]=e(t[f],f,l,i)}}else r=[];return r}const xr=t=>t?ka(t)?Vs(t):xr(t.parent):null,In=pe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xr(t.parent),$root:t=>xr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>si(t),$forceUpdate:t=>t.f||(t.f=()=>{ti(t.update)}),$nextTick:t=>t.n||(t.n=ia.bind(t.proxy)),$watch:t=>Cu.bind(t)}),er=(t,e)=>t!==Z&&!t.__isScriptSetup&&G(t,e),su={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(er(s,e))return o[e]=1,s[e];if(r!==Z&&G(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&G(c,e))return o[e]=3,i[e];if(n!==Z&&G(n,e))return o[e]=4,n[e];vr&&(o[e]=0)}}const f=In[e];let d,p;if(f)return e==="$attrs"&&ye(t.attrs,"get",""),f(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Z&&G(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,G(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return er(r,e)?(r[e]=n,!0):s!==Z&&G(s,e)?(s[e]=n,!0):G(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Z&&G(t,o)||er(e,o)||(a=i[0])&&G(a,o)||G(s,o)||G(In,o)||G(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:G(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ji(t){return N(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let vr=!0;function ru(t){const e=si(t),n=t.proxy,s=t.ctx;vr=!1,e.beforeCreate&&Hi(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:g,updated:_,activated:w,deactivated:R,beforeDestroy:k,beforeUnmount:A,destroyed:M,unmounted:S,render:U,renderTracked:j,renderTriggered:D,errorCaptured:ae,serverPrefetch:se,expose:q,inheritAttrs:K,components:He,directives:_t,filters:dn}=e;if(c&&iu(c,s,null),o)for(const ie in o){const ee=o[ie];B(ee)&&(s[ie]=ee.bind(n))}if(r){const ie=r.call(n,n);re(ie)&&(t.data=Ls(ie))}if(vr=!0,i)for(const ie in i){const ee=i[ie],Et=B(ee)?ee.bind(n,n):B(ee.get)?ee.get.bind(n,n):ot,Qn=!B(ee)&&B(ee.set)?ee.set.bind(n):ot,Pt=La({get:Et,set:Qn});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:Ye=>Pt.value=Ye})}if(a)for(const ie in a)ga(a[ie],s,n,ie);if(l){const ie=B(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(ee=>{fu(ee,ie[ee])})}f&&Hi(f,t,"c");function xe(ie,ee){N(ee)?ee.forEach(Et=>ie(Et.bind(n))):ee&&ie(ee.bind(n))}if(xe(Xc,d),xe(ha,p),xe(Gc,g),xe(Qc,_),xe(Kc,w),xe(Jc,R),xe(tu,ae),xe(eu,j),xe(Zc,D),xe(Yc,A),xe(pa,S),xe(zc,se),N(q))if(q.length){const ie=t.exposed||(t.exposed={});q.forEach(ee=>{Object.defineProperty(ie,ee,{get:()=>n[ee],set:Et=>n[ee]=Et})})}else t.exposed||(t.exposed={});U&&t.render===ot&&(t.render=U),K!=null&&(t.inheritAttrs=K),He&&(t.components=He),_t&&(t.directives=_t),se&&ua(t)}function iu(t,e,n=ot){N(t)&&(t=Sr(t));for(const s in t){const r=t[s];let i;re(r)?"default"in r?i=us(r.from||s,r.default,!0):i=us(r.from||s):i=us(r),we(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Hi(t,e,n){lt(N(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function ga(t,e,n,s){let r=s.includes(".")?Oa(n,s):()=>n[s];if(le(t)){const i=e[t];B(i)&&fs(r,i)}else if(B(t))fs(r,t.bind(n));else if(re(t))if(N(t))t.forEach(i=>ga(i,e,n,s));else{const i=B(t.handler)?t.handler.bind(n):e[t.handler];B(i)&&fs(r,i,t)}}function si(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Ps(l,c,o,!0)),Ps(l,e,o)),re(e)&&i.set(e,l),l}function Ps(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Ps(t,i,n,!0),r&&r.forEach(o=>Ps(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=ou[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ou={data:Vi,props:Wi,emits:Wi,methods:bn,computed:bn,beforeCreate:ve,created:ve,beforeMount:ve,mounted:ve,beforeUpdate:ve,updated:ve,beforeDestroy:ve,beforeUnmount:ve,destroyed:ve,unmounted:ve,activated:ve,deactivated:ve,errorCaptured:ve,serverPrefetch:ve,components:bn,directives:bn,watch:lu,provide:Vi,inject:au};function Vi(t,e){return e?t?function(){return pe(B(t)?t.call(this,this):t,B(e)?e.call(this,this):e)}:e:t}function au(t,e){return bn(Sr(t),Sr(e))}function Sr(t){if(N(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ve(t,e){return t?[...new Set([].concat(t,e))]:e}function bn(t,e){return t?pe(Object.create(null),t,e):e}function Wi(t,e){return t?N(t)&&N(e)?[...new Set([...t,...e])]:pe(Object.create(null),ji(t),ji(e??{})):e}function lu(t,e){if(!t)return e;if(!e)return t;const n=pe(Object.create(null),t);for(const s in e)n[s]=ve(t[s],e[s]);return n}function _a(){return{app:null,config:{isNativeTag:zl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cu=0;function uu(t,e){return function(s,r=null){B(s)||(s=pe({},s)),r!=null&&!re(r)&&(r=null);const i=_a(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:cu++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Wu,get config(){return i.config},set config(f){},use(f,...d){return o.has(f)||(f&&B(f.install)?(o.add(f),f.install(c,...d)):B(f)&&(o.add(f),f(c,...d))),c},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),c},component(f,d){return d?(i.components[f]=d,c):i.components[f]},directive(f,d){return d?(i.directives[f]=d,c):i.directives[f]},mount(f,d,p){if(!l){const g=c._ceVNode||Ge(s,r);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(g,f):t(g,f,p),l=!0,c._container=f,f.__vue_app__=c,Vs(g.component)}},onUnmount(f){a.push(f)},unmount(){l&&(lt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,d){return i.provides[f]=d,c},runWithContext(f){const d=zt;zt=c;try{return f()}finally{zt=d}}};return c}}let zt=null;function fu(t,e){if(Ce){let n=Ce.provides;const s=Ce.parent&&Ce.parent.provides;s===n&&(n=Ce.provides=Object.create(s)),n[t]=e}}function us(t,e,n=!1){const s=Ce||Be;if(s||zt){const r=zt?zt._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&B(e)?e.call(s&&s.proxy):e}}const ya={},ba=()=>Object.create(ya),wa=t=>Object.getPrototypeOf(t)===ya;function du(t,e,n,s=!1){const r={},i=ba();t.propsDefaults=Object.create(null),xa(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Oc(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function hu(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=X(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(js(t.emitsOptions,p))continue;const g=e[p];if(l)if(G(i,p))g!==i[p]&&(i[p]=g,c=!0);else{const _=vt(p);r[_]=Cr(l,a,_,g,t,!1)}else g!==i[p]&&(i[p]=g,c=!0)}}}else{xa(t,e,r,i)&&(c=!0);let f;for(const d in a)(!e||!G(e,d)&&((f=Lt(d))===d||!G(e,f)))&&(l?n&&(n[d]!==void 0||n[f]!==void 0)&&(r[d]=Cr(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!G(e,d))&&(delete i[d],c=!0)}c&&ht(t.attrs,"set","")}function xa(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Pn(l))continue;const c=e[l];let f;r&&G(r,f=vt(l))?!i||!i.includes(f)?n[f]=c:(a||(a={}))[f]=c:js(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=X(n),c=a||Z;for(let f=0;f<i.length;f++){const d=i[f];n[d]=Cr(r,l,d,c[d],t,!G(c,d))}}return o}function Cr(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=G(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const f=Wn(r);s=c[n]=l.call(null,e),f()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Lt(n))&&(s=!0))}return s}const pu=new WeakMap;function va(t,e,n=!1){const s=n?pu:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!B(t)){const f=d=>{l=!0;const[p,g]=va(d,e,!0);pe(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!l)return re(t)&&s.set(t,Xt),Xt;if(N(i))for(let f=0;f<i.length;f++){const d=vt(i[f]);Ki(d)&&(o[d]=Z)}else if(i)for(const f in i){const d=vt(f);if(Ki(d)){const p=i[f],g=o[d]=N(p)||B(p)?{type:p}:pe({},p),_=g.type;let w=!1,R=!0;if(N(_))for(let k=0;k<_.length;++k){const A=_[k],M=B(A)&&A.name;if(M==="Boolean"){w=!0;break}else M==="String"&&(R=!1)}else w=B(_)&&_.name==="Boolean";g[0]=w,g[1]=R,(w||G(g,"default"))&&a.push(d)}}const c=[o,a];return re(t)&&s.set(t,c),c}function Ki(t){return t[0]!=="$"&&!Pn(t)}const Sa=t=>t[0]==="_"||t==="$stable",ri=t=>N(t)?t.map(rt):[rt(t)],mu=(t,e,n)=>{if(e._n)return e;const s=Hc((...r)=>ri(e(...r)),n);return s._c=!1,s},Ca=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Sa(r))continue;const i=t[r];if(B(i))e[r]=mu(r,i,s);else if(i!=null){const o=ri(i);e[r]=()=>o}}},Aa=(t,e)=>{const n=ri(e);t.slots.default=()=>n},Ea=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},gu=(t,e,n)=>{const s=t.slots=ba();if(t.vnode.shapeFlag&32){const r=e._;r?(Ea(s,e,n),n&&Lo(s,"_",r,!0)):Ca(e,s)}else e&&Aa(t,e)},_u=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Z;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Ea(r,e,n):(i=!e.$stable,Ca(e,r)),o=e}else e&&(Aa(t,e),o={default:1});if(i)for(const a in r)!Sa(a)&&o[a]==null&&delete r[a]},Fe=Iu;function yu(t){return bu(t)}function bu(t,e){const n=Ns();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:g=ot,insertStaticContent:_}=t,w=(u,h,m,x=null,y=null,b=null,P=void 0,E=null,C=!!h.dynamicChildren)=>{if(u===h)return;u&&!yn(u,h)&&(x=Yn(u),Ye(u,y,b,!0),u=null),h.patchFlag===-2&&(C=!1,h.dynamicChildren=null);const{type:v,ref:F,shapeFlag:O}=h;switch(v){case Hs:R(u,h,m,x);break;case kt:k(u,h,m,x);break;case ds:u==null&&A(h,m,x,P);break;case Le:He(u,h,m,x,y,b,P,E,C);break;default:O&1?U(u,h,m,x,y,b,P,E,C):O&6?_t(u,h,m,x,y,b,P,E,C):(O&64||O&128)&&v.process(u,h,m,x,y,b,P,E,C,mn)}F!=null&&y&&Es(F,u&&u.ref,b,h||u,!h)},R=(u,h,m,x)=>{if(u==null)s(h.el=a(h.children),m,x);else{const y=h.el=u.el;h.children!==u.children&&c(y,h.children)}},k=(u,h,m,x)=>{u==null?s(h.el=l(h.children||""),m,x):h.el=u.el},A=(u,h,m,x)=>{[u.el,u.anchor]=_(u.children,h,m,x,u.el,u.anchor)},M=({el:u,anchor:h},m,x)=>{let y;for(;u&&u!==h;)y=p(u),s(u,m,x),u=y;s(h,m,x)},S=({el:u,anchor:h})=>{let m;for(;u&&u!==h;)m=p(u),r(u),u=m;r(h)},U=(u,h,m,x,y,b,P,E,C)=>{h.type==="svg"?P="svg":h.type==="math"&&(P="mathml"),u==null?j(h,m,x,y,b,P,E,C):se(u,h,y,b,P,E,C)},j=(u,h,m,x,y,b,P,E)=>{let C,v;const{props:F,shapeFlag:O,transition:$,dirs:L}=u;if(C=u.el=o(u.type,b,F&&F.is,F),O&8?f(C,u.children):O&16&&ae(u.children,C,null,x,y,tr(u,b),P,E),L&&Rt(u,null,x,"created"),D(C,u,u.scopeId,P,x),F){for(const te in F)te!=="value"&&!Pn(te)&&i(C,te,null,F[te],b,x);"value"in F&&i(C,"value",null,F.value,b),(v=F.onVnodeBeforeMount)&&Ze(v,x,u)}L&&Rt(u,null,x,"beforeMount");const V=wu(y,$);V&&$.beforeEnter(C),s(C,h,m),((v=F&&F.onVnodeMounted)||V||L)&&Fe(()=>{v&&Ze(v,x,u),V&&$.enter(C),L&&Rt(u,null,x,"mounted")},y)},D=(u,h,m,x,y)=>{if(m&&g(u,m),x)for(let b=0;b<x.length;b++)g(u,x[b]);if(y){let b=y.subTree;if(h===b||Ma(b.type)&&(b.ssContent===h||b.ssFallback===h)){const P=y.vnode;D(u,P,P.scopeId,P.slotScopeIds,y.parent)}}},ae=(u,h,m,x,y,b,P,E,C=0)=>{for(let v=C;v<u.length;v++){const F=u[v]=E?wt(u[v]):rt(u[v]);w(null,F,h,m,x,y,b,P,E)}},se=(u,h,m,x,y,b,P)=>{const E=h.el=u.el;let{patchFlag:C,dynamicChildren:v,dirs:F}=h;C|=u.patchFlag&16;const O=u.props||Z,$=h.props||Z;let L;if(m&&Tt(m,!1),(L=$.onVnodeBeforeUpdate)&&Ze(L,m,h,u),F&&Rt(h,u,m,"beforeUpdate"),m&&Tt(m,!0),(O.innerHTML&&$.innerHTML==null||O.textContent&&$.textContent==null)&&f(E,""),v?q(u.dynamicChildren,v,E,m,x,tr(h,y),b):P||ee(u,h,E,null,m,x,tr(h,y),b,!1),C>0){if(C&16)K(E,O,$,m,y);else if(C&2&&O.class!==$.class&&i(E,"class",null,$.class,y),C&4&&i(E,"style",O.style,$.style,y),C&8){const V=h.dynamicProps;for(let te=0;te<V.length;te++){const Q=V[te],Te=O[Q],ge=$[Q];(ge!==Te||Q==="value")&&i(E,Q,Te,ge,y,m)}}C&1&&u.children!==h.children&&f(E,h.children)}else!P&&v==null&&K(E,O,$,m,y);((L=$.onVnodeUpdated)||F)&&Fe(()=>{L&&Ze(L,m,h,u),F&&Rt(h,u,m,"updated")},x)},q=(u,h,m,x,y,b,P)=>{for(let E=0;E<h.length;E++){const C=u[E],v=h[E],F=C.el&&(C.type===Le||!yn(C,v)||C.shapeFlag&70)?d(C.el):m;w(C,v,F,null,x,y,b,P,!0)}},K=(u,h,m,x,y)=>{if(h!==m){if(h!==Z)for(const b in h)!Pn(b)&&!(b in m)&&i(u,b,h[b],null,y,x);for(const b in m){if(Pn(b))continue;const P=m[b],E=h[b];P!==E&&b!=="value"&&i(u,b,E,P,y,x)}"value"in m&&i(u,"value",h.value,m.value,y)}},He=(u,h,m,x,y,b,P,E,C)=>{const v=h.el=u?u.el:a(""),F=h.anchor=u?u.anchor:a("");let{patchFlag:O,dynamicChildren:$,slotScopeIds:L}=h;L&&(E=E?E.concat(L):L),u==null?(s(v,m,x),s(F,m,x),ae(h.children||[],m,F,y,b,P,E,C)):O>0&&O&64&&$&&u.dynamicChildren?(q(u.dynamicChildren,$,m,y,b,P,E),(h.key!=null||y&&h===y.subTree)&&Pa(u,h,!0)):ee(u,h,m,F,y,b,P,E,C)},_t=(u,h,m,x,y,b,P,E,C)=>{h.slotScopeIds=E,u==null?h.shapeFlag&512?y.ctx.activate(h,m,x,P,C):dn(h,m,x,y,b,P,C):hn(u,h,C)},dn=(u,h,m,x,y,b,P)=>{const E=u.component=Lu(u,x,y);if(fa(u)&&(E.ctx.renderer=mn),Bu(E,!1,P),E.asyncDep){if(y&&y.registerDep(E,xe,P),!u.el){const C=E.subTree=Ge(kt);k(null,C,h,m)}}else xe(E,u,h,m,y,b,P)},hn=(u,h,m)=>{const x=h.component=u.component;if(Tu(u,h,m))if(x.asyncDep&&!x.asyncResolved){ie(x,h,m);return}else x.next=h,x.update();else h.el=u.el,x.vnode=h},xe=(u,h,m,x,y,b,P)=>{const E=()=>{if(u.isMounted){let{next:O,bu:$,u:L,parent:V,vnode:te}=u;{const Oe=Ra(u);if(Oe){O&&(O.el=te.el,ie(u,O,P)),Oe.asyncDep.then(()=>{u.isUnmounted||E()});return}}let Q=O,Te;Tt(u,!1),O?(O.el=te.el,ie(u,O,P)):O=te,$&&ls($),(Te=O.props&&O.props.onVnodeBeforeUpdate)&&Ze(Te,V,O,te),Tt(u,!0);const ge=nr(u),Ve=u.subTree;u.subTree=ge,w(Ve,ge,d(Ve.el),Yn(Ve),u,y,b),O.el=ge.el,Q===null&&Ou(u,ge.el),L&&Fe(L,y),(Te=O.props&&O.props.onVnodeUpdated)&&Fe(()=>Ze(Te,V,O,te),y)}else{let O;const{el:$,props:L}=h,{bm:V,m:te,parent:Q,root:Te,type:ge}=u,Ve=On(h);if(Tt(u,!1),V&&ls(V),!Ve&&(O=L&&L.onVnodeBeforeMount)&&Ze(O,Q,h),Tt(u,!0),$&&$i){const Oe=()=>{u.subTree=nr(u),$i($,u.subTree,u,y,null)};Ve&&ge.__asyncHydrate?ge.__asyncHydrate($,u,Oe):Oe()}else{Te.ce&&Te.ce._injectChildStyle(ge);const Oe=u.subTree=nr(u);w(null,Oe,m,x,u,y,b),h.el=Oe.el}if(te&&Fe(te,y),!Ve&&(O=L&&L.onVnodeMounted)){const Oe=h;Fe(()=>Ze(O,Q,Oe),y)}(h.shapeFlag&256||Q&&On(Q.vnode)&&Q.vnode.shapeFlag&256)&&u.a&&Fe(u.a,y),u.isMounted=!0,h=m=x=null}};u.scope.on();const C=u.effect=new Ho(E);u.scope.off();const v=u.update=C.run.bind(C),F=u.job=C.runIfDirty.bind(C);F.i=u,F.id=u.uid,C.scheduler=()=>ti(F),Tt(u,!0),v()},ie=(u,h,m)=>{h.component=u;const x=u.vnode.props;u.vnode=h,u.next=null,hu(u,h.props,x,m),_u(u,h.children,m),Ct(),Ui(u),At()},ee=(u,h,m,x,y,b,P,E,C=!1)=>{const v=u&&u.children,F=u?u.shapeFlag:0,O=h.children,{patchFlag:$,shapeFlag:L}=h;if($>0){if($&128){Qn(v,O,m,x,y,b,P,E,C);return}else if($&256){Et(v,O,m,x,y,b,P,E,C);return}}L&8?(F&16&&pn(v,y,b),O!==v&&f(m,O)):F&16?L&16?Qn(v,O,m,x,y,b,P,E,C):pn(v,y,b,!0):(F&8&&f(m,""),L&16&&ae(O,m,x,y,b,P,E,C))},Et=(u,h,m,x,y,b,P,E,C)=>{u=u||Xt,h=h||Xt;const v=u.length,F=h.length,O=Math.min(v,F);let $;for($=0;$<O;$++){const L=h[$]=C?wt(h[$]):rt(h[$]);w(u[$],L,m,null,y,b,P,E,C)}v>F?pn(u,y,b,!0,!1,O):ae(h,m,x,y,b,P,E,C,O)},Qn=(u,h,m,x,y,b,P,E,C)=>{let v=0;const F=h.length;let O=u.length-1,$=F-1;for(;v<=O&&v<=$;){const L=u[v],V=h[v]=C?wt(h[v]):rt(h[v]);if(yn(L,V))w(L,V,m,null,y,b,P,E,C);else break;v++}for(;v<=O&&v<=$;){const L=u[O],V=h[$]=C?wt(h[$]):rt(h[$]);if(yn(L,V))w(L,V,m,null,y,b,P,E,C);else break;O--,$--}if(v>O){if(v<=$){const L=$+1,V=L<F?h[L].el:x;for(;v<=$;)w(null,h[v]=C?wt(h[v]):rt(h[v]),m,V,y,b,P,E,C),v++}}else if(v>$)for(;v<=O;)Ye(u[v],y,b,!0),v++;else{const L=v,V=v,te=new Map;for(v=V;v<=$;v++){const Ie=h[v]=C?wt(h[v]):rt(h[v]);Ie.key!=null&&te.set(Ie.key,v)}let Q,Te=0;const ge=$-V+1;let Ve=!1,Oe=0;const gn=new Array(ge);for(v=0;v<ge;v++)gn[v]=0;for(v=L;v<=O;v++){const Ie=u[v];if(Te>=ge){Ye(Ie,y,b,!0);continue}let ze;if(Ie.key!=null)ze=te.get(Ie.key);else for(Q=V;Q<=$;Q++)if(gn[Q-V]===0&&yn(Ie,h[Q])){ze=Q;break}ze===void 0?Ye(Ie,y,b,!0):(gn[ze-V]=v+1,ze>=Oe?Oe=ze:Ve=!0,w(Ie,h[ze],m,null,y,b,P,E,C),Te++)}const Fi=Ve?xu(gn):Xt;for(Q=Fi.length-1,v=ge-1;v>=0;v--){const Ie=V+v,ze=h[Ie],Ni=Ie+1<F?h[Ie+1].el:x;gn[v]===0?w(null,ze,m,Ni,y,b,P,E,C):Ve&&(Q<0||v!==Fi[Q]?Pt(ze,m,Ni,2):Q--)}}},Pt=(u,h,m,x,y=null)=>{const{el:b,type:P,transition:E,children:C,shapeFlag:v}=u;if(v&6){Pt(u.component.subTree,h,m,x);return}if(v&128){u.suspense.move(h,m,x);return}if(v&64){P.move(u,h,m,mn);return}if(P===Le){s(b,h,m);for(let O=0;O<C.length;O++)Pt(C[O],h,m,x);s(u.anchor,h,m);return}if(P===ds){M(u,h,m);return}if(x!==2&&v&1&&E)if(x===0)E.beforeEnter(b),s(b,h,m),Fe(()=>E.enter(b),y);else{const{leave:O,delayLeave:$,afterLeave:L}=E,V=()=>s(b,h,m),te=()=>{O(b,()=>{V(),L&&L()})};$?$(b,V,te):te()}else s(b,h,m)},Ye=(u,h,m,x=!1,y=!1)=>{const{type:b,props:P,ref:E,children:C,dynamicChildren:v,shapeFlag:F,patchFlag:O,dirs:$,cacheIndex:L}=u;if(O===-2&&(y=!1),E!=null&&Es(E,null,m,u,!0),L!=null&&(h.renderCache[L]=void 0),F&256){h.ctx.deactivate(u);return}const V=F&1&&$,te=!On(u);let Q;if(te&&(Q=P&&P.onVnodeBeforeUnmount)&&Ze(Q,h,u),F&6)Yl(u.component,m,x);else{if(F&128){u.suspense.unmount(m,x);return}V&&Rt(u,null,h,"beforeUnmount"),F&64?u.type.remove(u,h,m,mn,x):v&&!v.hasOnce&&(b!==Le||O>0&&O&64)?pn(v,h,m,!1,!0):(b===Le&&O&384||!y&&F&16)&&pn(C,h,m),x&&Oi(u)}(te&&(Q=P&&P.onVnodeUnmounted)||V)&&Fe(()=>{Q&&Ze(Q,h,u),V&&Rt(u,null,h,"unmounted")},m)},Oi=u=>{const{type:h,el:m,anchor:x,transition:y}=u;if(h===Le){Ql(m,x);return}if(h===ds){S(u);return}const b=()=>{r(m),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(u.shapeFlag&1&&y&&!y.persisted){const{leave:P,delayLeave:E}=y,C=()=>P(m,b);E?E(u.el,b,C):C()}else b()},Ql=(u,h)=>{let m;for(;u!==h;)m=p(u),r(u),u=m;r(h)},Yl=(u,h,m)=>{const{bum:x,scope:y,job:b,subTree:P,um:E,m:C,a:v}=u;Ji(C),Ji(v),x&&ls(x),y.stop(),b&&(b.flags|=8,Ye(P,u,h,m)),E&&Fe(E,h),Fe(()=>{u.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},pn=(u,h,m,x=!1,y=!1,b=0)=>{for(let P=b;P<u.length;P++)Ye(u[P],h,m,x,y)},Yn=u=>{if(u.shapeFlag&6)return Yn(u.component.subTree);if(u.shapeFlag&128)return u.suspense.next();const h=p(u.anchor||u.el),m=h&&h[Vc];return m?p(m):h};let Xs=!1;const Ii=(u,h,m)=>{u==null?h._vnode&&Ye(h._vnode,null,null,!0):w(h._vnode||null,u,h,null,null,null,m),h._vnode=u,Xs||(Xs=!0,Ui(),aa(),Xs=!1)},mn={p:w,um:Ye,m:Pt,r:Oi,mt:dn,mc:ae,pc:ee,pbc:q,n:Yn,o:t};let Mi,$i;return{render:Ii,hydrate:Mi,createApp:uu(Ii,Mi)}}function tr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Tt({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Pa(t,e,n=!1){const s=t.children,r=e.children;if(N(s)&&N(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=wt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Pa(o,a)),a.type===Hs&&(a.el=o.el)}}function xu(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Ra(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ra(e)}function Ji(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const vu=Symbol.for("v-scx"),Su=()=>us(vu);function fs(t,e,n){return Ta(t,e,n)}function Ta(t,e,n=Z){const{immediate:s,deep:r,flush:i,once:o}=n,a=pe({},n),l=e&&s||!e&&i!=="post";let c;if(Bn){if(i==="sync"){const g=Su();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=ot,g.resume=ot,g.pause=ot,g}}const f=Ce;a.call=(g,_,w)=>lt(g,f,_,w);let d=!1;i==="post"?a.scheduler=g=>{Fe(g,f&&f.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,_)=>{_?g():ti(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,f&&(g.id=f.uid,g.i=f))};const p=Lc(t,e,a);return Bn&&(c?c.push(p):l&&p()),p}function Cu(t,e,n){const s=this.proxy,r=le(t)?t.includes(".")?Oa(s,t):()=>s[t]:t.bind(s,s);let i;B(e)?i=e:(i=e.handler,n=e);const o=Wn(this),a=Ta(r,i.bind(s),n);return o(),a}function Oa(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Au=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${vt(e)}Modifiers`]||t[`${Lt(e)}Modifiers`];function Eu(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Z;let r=n;const i=e.startsWith("update:"),o=i&&Au(s,e.slice(7));o&&(o.trim&&(r=n.map(f=>le(f)?f.trim():f)),o.number&&(r=n.map(xs)));let a,l=s[a=Gs(e)]||s[a=Gs(vt(e))];!l&&i&&(l=s[a=Gs(Lt(e))]),l&&lt(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,lt(c,t,6,r)}}function Ia(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!B(t)){const l=c=>{const f=Ia(c,e,!0);f&&(a=!0,pe(o,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(re(t)&&s.set(t,null),null):(N(i)?i.forEach(l=>o[l]=null):pe(o,i),re(t)&&s.set(t,o),o)}function js(t,e){return!t||!$s(e)?!1:(e=e.slice(2).replace(/Once$/,""),G(t,e[0].toLowerCase()+e.slice(1))||G(t,Lt(e))||G(t,e))}function nr(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:g,ctx:_,inheritAttrs:w}=t,R=As(t);let k,A;try{if(n.shapeFlag&4){const S=r||s,U=S;k=rt(c.call(U,S,f,d,g,p,_)),A=a}else{const S=e;k=rt(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),A=e.props?a:Pu(a)}}catch(S){Mn.length=0,Bs(S,t,1),k=Ge(kt)}let M=k;if(A&&w!==!1){const S=Object.keys(A),{shapeFlag:U}=M;S.length&&U&7&&(i&&S.some(Vr)&&(A=Ru(A,i)),M=sn(M,A,!1,!0))}return n.dirs&&(M=sn(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&ni(M,n.transition),k=M,As(R),k}const Pu=t=>{let e;for(const n in t)(n==="class"||n==="style"||$s(n))&&((e||(e={}))[n]=t[n]);return e},Ru=(t,e)=>{const n={};for(const s in t)(!Vr(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Tu(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?qi(s,o,c):!!o;if(l&8){const f=e.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==s[p]&&!js(c,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?qi(s,o,c):!0:!!o;return!1}function qi(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!js(n,i))return!0}return!1}function Ou({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ma=t=>t.__isSuspense;function Iu(t,e){e&&e.pendingBranch?N(t)?e.effects.push(...t):e.effects.push(t):jc(t)}const Le=Symbol.for("v-fgt"),Hs=Symbol.for("v-txt"),kt=Symbol.for("v-cmt"),ds=Symbol.for("v-stc"),Mn=[];let De=null;function he(t=!1){Mn.push(De=t?null:[])}function Mu(){Mn.pop(),De=Mn[Mn.length-1]||null}let Ln=1;function Xi(t,e=!1){Ln+=t,t<0&&De&&e&&(De.hasOnce=!0)}function $a(t){return t.dynamicChildren=Ln>0?De||Xt:null,Mu(),Ln>0&&De&&De.push(t),t}function Pe(t,e,n,s,r,i){return $a(T(t,e,n,s,r,i,!0))}function Ar(t,e,n,s,r){return $a(Ge(t,e,n,s,r,!0))}function Fa(t){return t?t.__v_isVNode===!0:!1}function yn(t,e){return t.type===e.type&&t.key===e.key}const Na=({key:t})=>t??null,hs=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?le(t)||we(t)||B(t)?{i:Be,r:t,k:e,f:!!n}:t:null);function T(t,e=null,n=null,s=0,r=null,i=t===Le?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Na(e),ref:e&&hs(e),scopeId:ca,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Be};return a?(ii(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=le(n)?8:16),Ln>0&&!o&&De&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&De.push(l),l}const Ge=$u;function $u(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===nu)&&(t=kt),Fa(t)){const a=sn(t,e,!0);return n&&ii(a,n),Ln>0&&!i&&De&&(a.shapeFlag&6?De[De.indexOf(t)]=a:De.push(a)),a.patchFlag=-2,a}if(Vu(t)&&(t=t.__vccOpts),e){e=Fu(e);let{class:a,style:l}=e;a&&!le(a)&&(e.class=ks(a)),re(l)&&(ei(l)&&!N(l)&&(l=pe({},l)),e.style=Jr(l))}const o=le(t)?1:Ma(t)?128:Wc(t)?64:re(t)?4:B(t)?2:0;return T(t,e,n,s,r,o,i,!0)}function Fu(t){return t?ei(t)||wa(t)?pe({},t):t:null}function sn(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Nu(r||{},e):r,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Na(c),ref:e&&e.ref?n&&i?N(i)?i.concat(hs(e)):[i,hs(e)]:hs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Le?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sn(t.ssContent),ssFallback:t.ssFallback&&sn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&ni(f,l.clone(f)),f}function Er(t=" ",e=0){return Ge(Hs,null,t,e)}function Gi(t,e){const n=Ge(ds,null,t);return n.staticCount=e,n}function ts(t="",e=!1){return e?(he(),Ar(kt,null,t)):Ge(kt,null,t)}function rt(t){return t==null||typeof t=="boolean"?Ge(kt):N(t)?Ge(Le,null,t.slice()):Fa(t)?wt(t):Ge(Hs,null,String(t))}function wt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:sn(t)}function ii(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(N(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),ii(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!wa(e)?e._ctx=Be:r===3&&Be&&(Be.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:Be},n=32):(e=String(e),s&64?(n=16,e=[Er(e)]):n=8);t.children=e,t.shapeFlag|=n}function Nu(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ks([e.class,s.class]));else if(r==="style")e.style=Jr([e.style,s.style]);else if($s(r)){const i=e[r],o=s[r];o&&i!==o&&!(N(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ze(t,e,n,s=null){lt(t,e,7,[n,s])}const ku=_a();let Du=0;function Lu(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||ku,i={uid:Du++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:va(s,r),emitsOptions:Ia(s,r),emit:null,emitted:null,propsDefaults:Z,inheritAttrs:s.inheritAttrs,ctx:Z,data:Z,props:Z,attrs:Z,slots:Z,refs:Z,setupState:Z,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Eu.bind(null,i),t.ce&&t.ce(i),i}let Ce=null,Rs,Pr;{const t=Ns(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Rs=e("__VUE_INSTANCE_SETTERS__",n=>Ce=n),Pr=e("__VUE_SSR_SETTERS__",n=>Bn=n)}const Wn=t=>{const e=Ce;return Rs(t),t.scope.on(),()=>{t.scope.off(),Rs(e)}},Qi=()=>{Ce&&Ce.scope.off(),Rs(null)};function ka(t){return t.vnode.shapeFlag&4}let Bn=!1;function Bu(t,e=!1,n=!1){e&&Pr(e);const{props:s,children:r}=t.vnode,i=ka(t);du(t,s,i,e),gu(t,r,n);const o=i?Uu(t,e):void 0;return e&&Pr(!1),o}function Uu(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,su);const{setup:s}=n;if(s){Ct();const r=t.setupContext=s.length>1?Hu(t):null,i=Wn(t),o=Vn(s,t,0,[t.props,r]),a=Fo(o);if(At(),i(),(a||t.sp)&&!On(t)&&ua(t),a){if(o.then(Qi,Qi),e)return o.then(l=>{Yi(t,l,e)}).catch(l=>{Bs(l,t,0)});t.asyncDep=o}else Yi(t,o,e)}else Da(t,e)}function Yi(t,e,n){B(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:re(e)&&(t.setupState=sa(e)),Da(t,n)}let zi;function Da(t,e,n){const s=t.type;if(!t.render){if(!e&&zi&&!s.render){const r=s.template||si(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=pe(pe({isCustomElement:i,delimiters:a},o),l);s.render=zi(r,c)}}t.render=s.render||ot}{const r=Wn(t);Ct();try{ru(t)}finally{At(),r()}}}const ju={get(t,e){return ye(t,"get",""),t[e]}};function Hu(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ju),slots:t.slots,emit:t.emit,expose:e}}function Vs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(sa(Ic(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in In)return In[n](t)},has(e,n){return n in e||n in In}})):t.proxy}function Vu(t){return B(t)&&"__vccOpts"in t}const La=(t,e)=>kc(t,e,Bn),Wu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;const Zi=typeof window<"u"&&window.trustedTypes;if(Zi)try{Rr=Zi.createPolicy("vue",{createHTML:t=>t})}catch{}const Ba=Rr?t=>Rr.createHTML(t):t=>t,Ku="http://www.w3.org/2000/svg",Ju="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,eo=dt&&dt.createElement("template"),qu={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?dt.createElementNS(Ku,t):e==="mathml"?dt.createElementNS(Ju,t):n?dt.createElement(t,{is:n}):dt.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>dt.createTextNode(t),createComment:t=>dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{eo.innerHTML=Ba(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=eo.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Xu=Symbol("_vtc");function Gu(t,e,n){const s=t[Xu];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const to=Symbol("_vod"),Qu=Symbol("_vsh"),Yu=Symbol(""),zu=/(^|;)\s*display\s*:/;function Zu(t,e,n){const s=t.style,r=le(n);let i=!1;if(n&&!r){if(e)if(le(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ps(s,a,"")}else for(const o in e)n[o]==null&&ps(s,o,"");for(const o in n)o==="display"&&(i=!0),ps(s,o,n[o])}else if(r){if(e!==n){const o=s[Yu];o&&(n+=";"+o),s.cssText=n,i=zu.test(n)}}else e&&t.removeAttribute("style");to in t&&(t[to]=i?s.display:"",t[Qu]&&(s.display="none"))}const no=/\s*!important$/;function ps(t,e,n){if(N(n))n.forEach(s=>ps(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=ef(t,e);no.test(n)?t.setProperty(Lt(s),n.replace(no,""),"important"):t[s]=n}}const so=["Webkit","Moz","ms"],sr={};function ef(t,e){const n=sr[e];if(n)return n;let s=vt(e);if(s!=="filter"&&s in t)return sr[e]=s;s=Do(s);for(let r=0;r<so.length;r++){const i=so[r]+s;if(i in t)return sr[e]=i}return e}const ro="http://www.w3.org/1999/xlink";function io(t,e,n,s,r,i=lc(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(ro,e.slice(6,e.length)):t.setAttributeNS(ro,e,n):n==null||i&&!Bo(n)?t.removeAttribute(e):t.setAttribute(e,i?"":at(n)?String(n):n)}function oo(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Ba(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Bo(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function mt(t,e,n,s){t.addEventListener(e,n,s)}function tf(t,e,n,s){t.removeEventListener(e,n,s)}const ao=Symbol("_vei");function nf(t,e,n,s,r=null){const i=t[ao]||(t[ao]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=sf(e);if(s){const c=i[e]=af(s,r);mt(t,a,c,l)}else o&&(tf(t,a,o,l),i[e]=void 0)}}const lo=/(?:Once|Passive|Capture)$/;function sf(t){let e;if(lo.test(t)){e={};let s;for(;s=t.match(lo);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lt(t.slice(2)),e]}let rr=0;const rf=Promise.resolve(),of=()=>rr||(rf.then(()=>rr=0),rr=Date.now());function af(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;lt(lf(s,n.value),e,5,[s])};return n.value=t,n.attached=of(),n}function lf(t,e){if(N(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const co=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,cf=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?Gu(t,s,o):e==="style"?Zu(t,n,s):$s(e)?Vr(e)||nf(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):uf(t,e,s,o))?(oo(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&io(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!le(s))?oo(t,vt(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),io(t,e,s,o))};function uf(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&co(e)&&B(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return co(e)&&le(n)?!1:e in t}const St=t=>{const e=t.props["onUpdate:modelValue"]||!1;return N(e)?n=>ls(e,n):e};function ff(t){t.target.composing=!0}function uo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const je=Symbol("_assign"),rn={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[je]=St(r);const i=s||r.props&&r.props.type==="number";mt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=xs(a)),t[je](a)}),n&&mt(t,"change",()=>{t.value=t.value.trim()}),e||(mt(t,"compositionstart",ff),mt(t,"compositionend",uo),mt(t,"change",uo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[je]=St(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?xs(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Wt={deep:!0,created(t,e,n){t[je]=St(n),mt(t,"change",()=>{const s=t._modelValue,r=on(t),i=t.checked,o=t[je];if(N(s)){const a=qr(s,r),l=a!==-1;if(i&&!l)o(s.concat(r));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(ln(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(Ua(t,i))})},mounted:fo,beforeUpdate(t,e,n){t[je]=St(n),fo(t,e,n)}};function fo(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(N(e))r=qr(e,s.props.value)>-1;else if(ln(e))r=e.has(s.props.value);else{if(e===n)return;r=Ft(e,Ua(t,!0))}t.checked!==r&&(t.checked=r)}const df={created(t,{value:e},n){t.checked=Ft(e,n.props.value),t[je]=St(n),mt(t,"change",()=>{t[je](on(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[je]=St(s),e!==n&&(t.checked=Ft(e,s.props.value))}},wn={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=ln(e);mt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?xs(on(o)):on(o));t[je](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,ia(()=>{t._assigning=!1})}),t[je]=St(s)},mounted(t,{value:e}){ho(t,e)},beforeUpdate(t,e,n){t[je]=St(n)},updated(t,{value:e}){t._assigning||ho(t,e)}};function ho(t,e){const n=t.multiple,s=N(e);if(!(n&&!s&&!ln(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=on(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=qr(e,a)>-1}else o.selected=e.has(a);else if(Ft(on(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function on(t){return"_value"in t?t._value:t.value}function Ua(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const hf={created(t,e,n){ns(t,e,n,null,"created")},mounted(t,e,n){ns(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){ns(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){ns(t,e,n,s,"updated")}};function pf(t,e){switch(t){case"SELECT":return wn;case"TEXTAREA":return rn;default:switch(e){case"checkbox":return Wt;case"radio":return df;default:return rn}}}function ns(t,e,n,s,r){const o=pf(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,s)}const mf=pe({patchProp:cf},qu);let po;function gf(){return po||(po=yu(mf))}const _f=(...t)=>{const e=gf().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=bf(s);if(!r)return;const i=e._component;!B(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,yf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function yf(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function bf(t){return le(t)?document.querySelector(t):t}const Me=Ls({isOpen:!1,mode:"",apiKey:"",selectedModel:"",promptTone:"Happy",customTone:"",promptType:"General",customType:"",platforms:{twitch:!0,youtube:!0,youtubeShorts:!0,kick:!0,trovo:!0}}),oi=()=>{const t=()=>{const r=localStorage.getItem("settings");if(r){const i=JSON.parse(r);Me.mode=i.mode||"",Me.apiKey=i.apiKey||"",Me.selectedModel=i.selectedModel||"",Me.promptTone=i.promptTone||"",Me.customTone=i.customTone||"",Me.promptType=i.promptType||"",Me.customType=i.customType||"",Me.platforms=i.platforms||{twitch:!0,youtube:!0,youtubeShorts:!0,kick:!0,trovo:!0}}};return{state:Me,loadSettings:t,saveSettings:()=>{localStorage.setItem("settings",JSON.stringify(Me)),Me.isOpen=!1},openSettings:()=>{t(),Me.isOpen=!0},closeSettings:()=>{Me.isOpen=!1}}},wf=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},xf={},vf={class:"flex justify-between items-center mb-4"},Sf={class:"flex items-center gap-4"};function Cf(t,e){return he(),Pe("header",vf,[e[1]||(e[1]=T("h1",{class:"text-xl font-bold"},"UPDATE TITLES",-1)),T("div",Sf,[e[0]||(e[0]=T("a",{href:"https://example.com",target:"_blank"},[T("i",{class:"fa-solid fa-circle-info text-gray-400 hover:text-white"})],-1)),T("i",{class:ks(["fa-solid",t.isConnected?"fa-wifi text-green-500":"fa-wifi-exclamation text-red-500"])},null,2)])])}const Af=wf(xf,[["render",Cf]]),Tr="RFC3986",Or={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},Ef="RFC1738",Pf=Array.isArray,et=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),ir=1024,Rf=(t,e,n,s,r)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=ir){const l=i.length>=ir?i.slice(a,a+ir):i,c=[];for(let f=0;f<l.length;++f){let d=l.charCodeAt(f);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||r===Ef&&(d===40||d===41)){c[c.length]=l.charAt(f);continue}if(d<128){c[c.length]=et[d];continue}if(d<2048){c[c.length]=et[192|d>>6]+et[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=et[224|d>>12]+et[128|d>>6&63]+et[128|d&63];continue}f+=1,d=65536+((d&1023)<<10|l.charCodeAt(f)&1023),c[c.length]=et[240|d>>18]+et[128|d>>12&63]+et[128|d>>6&63]+et[128|d&63]}o+=c.join("")}return o};function Tf(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function mo(t,e){if(Pf(t)){const n=[];for(let s=0;s<t.length;s+=1)n.push(e(t[s]));return n}return e(t)}const Of=Object.prototype.hasOwnProperty,ja={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},nt=Array.isArray,If=Array.prototype.push,Ha=function(t,e){If.apply(t,nt(e)?e:[e])},Mf=Date.prototype.toISOString,ue={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Rf,encodeValuesOnly:!1,format:Tr,formatter:Or[Tr],indices:!1,serializeDate(t){return Mf.call(t)},skipNulls:!1,strictNullHandling:!1};function $f(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const or={};function Va(t,e,n,s,r,i,o,a,l,c,f,d,p,g,_,w,R,k){let A=t,M=k,S=0,U=!1;for(;(M=M.get(or))!==void 0&&!U;){const q=M.get(t);if(S+=1,typeof q<"u"){if(q===S)throw new RangeError("Cyclic object value");U=!0}typeof M.get(or)>"u"&&(S=0)}if(typeof c=="function"?A=c(e,A):A instanceof Date?A=p==null?void 0:p(A):n==="comma"&&nt(A)&&(A=mo(A,function(q){return q instanceof Date?p==null?void 0:p(q):q})),A===null){if(i)return l&&!w?l(e,ue.encoder,R,"key",g):e;A=""}if($f(A)||Tf(A)){if(l){const q=w?e:l(e,ue.encoder,R,"key",g);return[(_==null?void 0:_(q))+"="+(_==null?void 0:_(l(A,ue.encoder,R,"value",g)))]}return[(_==null?void 0:_(e))+"="+(_==null?void 0:_(String(A)))]}const j=[];if(typeof A>"u")return j;let D;if(n==="comma"&&nt(A))w&&l&&(A=mo(A,l)),D=[{value:A.length>0?A.join(",")||null:void 0}];else if(nt(c))D=c;else{const q=Object.keys(A);D=f?q.sort(f):q}const ae=a?String(e).replace(/\./g,"%2E"):String(e),se=s&&nt(A)&&A.length===1?ae+"[]":ae;if(r&&nt(A)&&A.length===0)return se+"[]";for(let q=0;q<D.length;++q){const K=D[q],He=typeof K=="object"&&typeof K.value<"u"?K.value:A[K];if(o&&He===null)continue;const _t=d&&a?K.replace(/\./g,"%2E"):K,dn=nt(A)?typeof n=="function"?n(se,_t):se:se+(d?"."+_t:"["+_t+"]");k.set(t,S);const hn=new WeakMap;hn.set(or,k),Ha(j,Va(He,dn,n,s,r,i,o,a,n==="comma"&&w&&nt(A)?null:l,c,f,d,p,g,_,w,R,hn))}return j}function Ff(t=ue){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||ue.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Tr;if(typeof t.format<"u"){if(!Of.call(Or,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const s=Or[n];let r=ue.filter;(typeof t.filter=="function"||nt(t.filter))&&(r=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in ja?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=ue.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ue.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ue.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ue.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ue.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ue.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ue.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ue.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ue.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ue.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ue.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ue.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ue.strictNullHandling}}function Nf(t,e={}){let n=t;const s=Ff(e);let r,i;typeof s.filter=="function"?(i=s.filter,n=i("",n)):nt(s.filter)&&(i=s.filter,r=i);const o=[];if(typeof n!="object"||n===null)return"";const a=ja[s.arrayFormat],l=a==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const c=new WeakMap;for(let p=0;p<r.length;++p){const g=r[p];s.skipNulls&&n[g]===null||Ha(o,Va(n[g],g,a,l,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,c))}const f=o.join(s.delimiter);let d=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),f.length>0?d+f:""}const Kt="4.76.0";let go=!1,$n,Wa,Ka,Ir,Ja,qa,Xa,Ga,Qa;function kf(t,e={auto:!1}){if(go)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if($n)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${$n}'\``);go=e.auto,$n=t.kind,Wa=t.fetch,Ka=t.FormData,Ir=t.File,Ja=t.ReadableStream,qa=t.getMultipartRequestOptions,Xa=t.getDefaultAgent,Ga=t.fileFromPath,Qa=t.isFsReadStream}class Df{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Lf({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new Df(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}$n||kf(Lf(),{auto:!0});class H extends Error{}class me extends H{constructor(e,n,s,r){super(`${me.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.request_id=r==null?void 0:r["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e)return new Ws({message:s,cause:$r(n)});const i=n==null?void 0:n.error;return e===400?new Ya(e,i,s,r):e===401?new za(e,i,s,r):e===403?new Za(e,i,s,r):e===404?new el(e,i,s,r):e===409?new tl(e,i,s,r):e===422?new nl(e,i,s,r):e===429?new sl(e,i,s,r):e>=500?new rl(e,i,s,r):new me(e,i,s,r)}}class Je extends me{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Ws extends me{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class ai extends Ws{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Ya extends me{constructor(){super(...arguments),this.status=400}}class za extends me{constructor(){super(...arguments),this.status=401}}class Za extends me{constructor(){super(...arguments),this.status=403}}class el extends me{constructor(){super(...arguments),this.status=404}}class tl extends me{constructor(){super(...arguments),this.status=409}}class nl extends me{constructor(){super(...arguments),this.status=422}}class sl extends me{constructor(){super(...arguments),this.status=429}}class rl extends me{}class il extends H{constructor(){super("Could not parse response content as the length limit was reached")}}class ol extends H{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Dt{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const s=Dt.NEWLINE_CHARS.has(n[n.length-1]||"");let r=n.split(Dt.NEWLINE_REGEXP);return s&&r.pop(),r.length===1&&!s?(this.buffer.push(r[0]),[]):(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),s||(this.buffer=[r.pop()||""]),r)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new H(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new H(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new H("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Dt.NEWLINE_CHARS=new Set([`
`,"\r"]);Dt.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class it{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const o of Bf(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new me(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new me(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new it(r,n)}static fromReadableStream(e,n){let s=!1;async function*r(){const o=new Dt,a=al(e);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const a of r())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new it(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=s.next();e.push(o),n.push(o)}return i.shift()}});return[new it(()=>r(e),this.controller),new it(()=>r(n),this.controller)]}toReadableStream(){const e=this;let n;const s=new TextEncoder;return new Ja({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=s.encode(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*Bf(t,e){if(!t.body)throw e.abort(),new H("Attempted to iterate over a response with no body");const n=new Hf,s=new Dt,r=al(t.body);for await(const i of Uf(r))for(const o of s.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of s.flush()){const o=n.decode(i);o&&(yield o)}}async function*Uf(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let i;for(;(i=jf(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function jf(t){for(let s=0;s<t.length-2;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}class Hf{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=Vf(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function Vf(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function al(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const ll=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",cl=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Ks(t),Ks=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Wf=t=>cl(t)||ll(t)||Qa(t);async function ul(t,e,n){var r;if(t=await t,cl(t))return t;if(ll(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Ks(i)?[await i.arrayBuffer()]:[i];return new Ir(o,e,n)}const s=await Kf(t);if(e||(e=qf(t)??"unknown_file"),!(n!=null&&n.type)){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new Ir(s,e,n)}async function Kf(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Ks(t))e.push(await t.arrayBuffer());else if(Xf(t))for await(const s of t)e.push(s);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Jf(t)}`);return e}function Jf(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function qf(t){var e;return ar(t.name)||ar(t.filename)||((e=ar(t.path))==null?void 0:e.split(/[\\/]/).pop())}const ar=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Xf=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",_o=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",an=async t=>{const e=await Gf(t.body);return qa(e,t)},Gf=async t=>{const e=new Ka;return await Promise.all(Object.entries(t||{}).map(([n,s])=>Mr(e,n,s))),e},Mr=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Wf(n)){const s=await ul(n);t.append(e,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>Mr(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>Mr(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Zt={},Qf=function(t,e,n,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},Yf=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},ss;async function fl(t){const{response:e}=t;if(t.options.stream)return en("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):it.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return en("response",e.status,e.url,e.headers,i),dl(i,e)}const r=await e.text();return en("response",e.status,e.url,e.headers,r),r}function dl(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Js extends Promise{constructor(e,n=fl){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Js(this.responsePromise,async n=>dl(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class zf{constructor({baseURL:e,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=lr("maxRetries",n),this.timeout=lr("timeout",s),this.httpAgent=r,this.fetch=i??Wa}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...rd(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${ld()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(async r=>{const i=r&&Ks(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:e,path:n,...r,body:i}}))}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var w;const{method:s,path:r,query:i,headers:o={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:_o(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(a),c=this.buildURL(r,i);"timeout"in e&&lr("timeout",e.timeout);const f=e.timeout??this.timeout,d=e.httpAgent??this.httpAgent??Xa(c),p=f+1e3;typeof((w=d==null?void 0:d.options)==null?void 0:w.timeout)=="number"&&p>(d.options.timeout??0)&&(d.options.timeout=p),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const g=this.buildHeaders({options:e,headers:o,contentLength:l,retryCount:n});return{req:{method:s,...a&&{body:a},headers:g,...d&&{agent:d},signal:e.signal??null},url:c,timeout:f}}buildHeaders({options:e,headers:n,contentLength:s,retryCount:r}){const i={};s&&(i["content-length"]=s);const o=this.defaultHeaders(e);return xo(i,o),xo(i,n),_o(e.body)&&$n!=="node"&&delete i["content-type"],vo(o,"x-stainless-retry-count")===void 0&&vo(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(r)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,s,r){return me.generate(e,n,s,r)}request(e,n=null){return new Js(this.makeRequest(e,n))}async makeRequest(e,n){var d,p;const s=await e,r=s.maxRetries??this.maxRetries;n==null&&(n=r),await this.prepareOptions(s);const{req:i,url:o,timeout:a}=this.buildRequest(s,{retryCount:r-n});if(await this.prepareRequest(i,{url:o,options:s}),en("request",o,s,i.headers),(d=s.signal)!=null&&d.aborted)throw new Je;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch($r);if(c instanceof Error){if((p=s.signal)!=null&&p.aborted)throw new Je;if(n)return this.retryRequest(s,n);throw c.name==="AbortError"?new ai:new Ws({cause:c})}const f=ed(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const A=`retrying, ${n} attempts remaining`;return en(`response (error; ${A})`,c.status,o,f),this.retryRequest(s,n,f)}const g=await c.text().catch(A=>$r(A).message),_=id(g),w=_?void 0:g;throw en(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,f,w),this.makeStatusError(c.status,_,w,f)}return{response:c,options:s,controller:l}}requestAPIList(e,n){const s=this.makeRequest(n,null);return new Zf(this,s,e)}buildURL(e,n){const s=ad(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return pl(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new H(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,s,r){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s){let r;const i=s==null?void 0:s["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(r=a)}const o=s==null?void 0:s["retry-after"];if(o&&!r){const a=parseFloat(o);Number.isNaN(a)?r=Date.parse(o)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Kn(r),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Kt}`}}class hl{constructor(e,n,s,r){ss.set(this,void 0),Qf(this,ss,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new H("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const s=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[r,i]of s)e.url.searchParams.set(r,i);n.query=void 0,n.path=e.url.toString()}return await Yf(this,ss,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(ss=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class Zf extends Js{constructor(e,n,s){super(n,async r=>new s(e,r.response,await fl(r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const ed=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const s=n.toString();return e[s.toLowerCase()]||e[s]}}),td={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Re=t=>typeof t=="object"&&t!==null&&!pl(t)&&Object.keys(t).every(e=>ml(td,e)),nd=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":bo(Deno.build.os),"X-Stainless-Arch":yo(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":bo(process.platform),"X-Stainless-Arch":yo(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=sd();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sd(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,o=s[3]||0;return{browser:e,version:`${r}.${i}.${o}`}}}return null}const yo=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",bo=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let wo;const rd=()=>wo??(wo=nd()),id=t=>{try{return JSON.parse(t)}catch{return}},od=new RegExp("^(?:[a-z]+:)?//","i"),ad=t=>od.test(t),Kn=t=>new Promise(e=>setTimeout(e,t)),lr=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new H(`${t} must be an integer`);if(e<0)throw new H(`${t} must be a positive integer`);return e},$r=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},rs=t=>{var e,n,s,r;if(typeof process<"u")return((e=Zt==null?void 0:Zt[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,t))==null?void 0:r.trim()};function pl(t){if(!t)return!0;for(const e in t)return!1;return!0}function ml(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xo(t,e){for(const n in e){if(!ml(e,n))continue;const s=n.toLowerCase();if(!s)continue;const r=e[n];r===null?delete t[s]:r!==void 0&&(t[s]=r)}}function en(t,...e){typeof process<"u"&&(Zt==null?void 0:Zt.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const ld=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),cd=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",ud=t=>typeof(t==null?void 0:t.get)=="function",vo=(t,e)=>{var s;const n=e.toLowerCase();if(ud(t)){const r=((s=e[0])==null?void 0:s.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[e,n,e.toUpperCase(),r]){const o=t.get(i);if(o)return o}}for(const[r,i]of Object.entries(t))if(r.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function cr(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class fd extends hl{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Qe extends hl{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const e=this.getPaginatedItems();if(!e.length)return null;const n=(s=e[e.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class Y{constructor(e){this._client=e}}let gl=class extends Y{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}},li=class extends Y{constructor(){super(...arguments),this.completions=new gl(this._client)}};li.Completions=gl;class _l extends Y{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}class yl extends Y{create(e,n){return this._client.post("/audio/transcriptions",an({body:e,...n}))}}class bl extends Y{create(e,n){return this._client.post("/audio/translations",an({body:e,...n}))}}class Jn extends Y{constructor(){super(...arguments),this.transcriptions=new yl(this._client),this.translations=new bl(this._client),this.speech=new _l(this._client)}}Jn.Transcriptions=yl;Jn.Translations=bl;Jn.Speech=_l;class ci extends Y{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Re(e)?this.list({},e):this._client.getAPIList("/batches",ui,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class ui extends Qe{}ci.BatchesPage=ui;class fi extends Y{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/assistants/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return Re(e)?this.list({},e):this._client.getAPIList("/assistants",di,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class di extends Qe{}fi.AssistantsPage=di;function So(t){return typeof t.parse=="function"}const tn=t=>(t==null?void 0:t.role)==="assistant",wl=t=>(t==null?void 0:t.role)==="function",xl=t=>(t==null?void 0:t.role)==="tool";var We=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},oe=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Fr,ms,gs,xn,vn,_s,Sn,ft,Cn,Ts,Os,Jt,vl;class Sl{constructor(){Fr.add(this),this.controller=new AbortController,ms.set(this,void 0),gs.set(this,()=>{}),xn.set(this,()=>{}),vn.set(this,void 0),_s.set(this,()=>{}),Sn.set(this,()=>{}),ft.set(this,{}),Cn.set(this,!1),Ts.set(this,!1),Os.set(this,!1),Jt.set(this,!1),We(this,ms,new Promise((e,n)=>{We(this,gs,e,"f"),We(this,xn,n,"f")}),"f"),We(this,vn,new Promise((e,n)=>{We(this,_s,e,"f"),We(this,Sn,n,"f")}),"f"),oe(this,ms,"f").catch(()=>{}),oe(this,vn,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},oe(this,Fr,"m",vl).bind(this))},0)}_connected(){this.ended||(oe(this,gs,"f").call(this),this._emit("connect"))}get ended(){return oe(this,Cn,"f")}get errored(){return oe(this,Ts,"f")}get aborted(){return oe(this,Os,"f")}abort(){this.controller.abort()}on(e,n){return(oe(this,ft,"f")[e]||(oe(this,ft,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=oe(this,ft,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(oe(this,ft,"f")[e]||(oe(this,ft,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{We(this,Jt,!0,"f"),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){We(this,Jt,!0,"f"),await oe(this,vn,"f")}_emit(e,...n){if(oe(this,Cn,"f"))return;e==="end"&&(We(this,Cn,!0,"f"),oe(this,_s,"f").call(this));const s=oe(this,ft,"f")[e];if(s&&(oe(this,ft,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!oe(this,Jt,"f")&&!(s!=null&&s.length)&&Promise.reject(r),oe(this,xn,"f").call(this,r),oe(this,Sn,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!oe(this,Jt,"f")&&!(s!=null&&s.length)&&Promise.reject(r),oe(this,xn,"f").call(this,r),oe(this,Sn,"f").call(this,r),this._emit("end")}}_emitFinal(){}}ms=new WeakMap,gs=new WeakMap,xn=new WeakMap,vn=new WeakMap,_s=new WeakMap,Sn=new WeakMap,ft=new WeakMap,Cn=new WeakMap,Ts=new WeakMap,Os=new WeakMap,Jt=new WeakMap,Fr=new WeakSet,vl=function(e){if(We(this,Ts,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Je),e instanceof Je)return We(this,Os,!0,"f"),this._emit("abort",e);if(e instanceof H)return this._emit("error",e);if(e instanceof Error){const n=new H(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new H(String(e)))};function Cl(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function qn(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function dd(t,e){return!e||!Al(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:hi(t,e)}function hi(t,e){const n=t.choices.map(s=>{var r;if(s.finish_reason==="length")throw new il;if(s.finish_reason==="content_filter")throw new ol;return{...s,message:{...s.message,tool_calls:((r=s.message.tool_calls)==null?void 0:r.map(i=>pd(e,i)))??[],parsed:s.message.content&&!s.message.refusal?hd(e,s.message.content):null}}});return{...t,choices:n}}function hd(t,e){var n,s;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=t.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function pd(t,e){var s;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:qn(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function md(t,e){var s;if(!t)return!1;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return qn(n)||(n==null?void 0:n.function.strict)||!1}function Al(t){var e;return Cl(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>qn(n)||n.type==="function"&&n.function.strict===!0))??!1}function gd(t){for(const e of t??[]){if(e.type!=="function")throw new H(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new H(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ae=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},_e,Nr,Is,kr,Dr,Lr,El,Br;const Co=10;class Pl extends Sl{constructor(){super(...arguments),_e.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var s;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(s=e.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(wl(e)||xl(e))&&e.content)this._emit("functionCallResult",e.content);else if(tn(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(tn(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new H("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ae(this,_e,"m",Nr).call(this)}async finalMessage(){return await this.done(),Ae(this,_e,"m",Is).call(this)}async finalFunctionCall(){return await this.done(),Ae(this,_e,"m",kr).call(this)}async finalFunctionCallResult(){return await this.done(),Ae(this,_e,"m",Dr).call(this)}async totalUsage(){return await this.done(),Ae(this,_e,"m",Lr).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ae(this,_e,"m",Is).call(this);n&&this._emit("finalMessage",n);const s=Ae(this,_e,"m",Nr).call(this);s&&this._emit("finalContent",s);const r=Ae(this,_e,"m",kr).call(this);r&&this._emit("finalFunctionCall",r);const i=Ae(this,_e,"m",Dr).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ae(this,_e,"m",Lr).call(this))}async _createChatCompletion(e,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ae(this,_e,"m",El).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(hi(i,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runFunctions(e,n,s){var p;const r="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=Co}=s||{},f={};for(const g of n.functions)f[g.name||g.function.name]=g;const d=n.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of n.messages)this._addMessage(g,!1);for(let g=0;g<c;++g){const w=(p=(await this._createChatCompletion(e,{...a,function_call:i,functions:d,messages:[...this.messages]},s)).choices[0])==null?void 0:p.message;if(!w)throw new H("missing message in ChatCompletion response");if(!w.function_call)return;const{name:R,arguments:k}=w.function_call,A=f[R];if(A){if(l&&l!==R){const j=`Invalid function_call: ${JSON.stringify(R)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:R,content:j});continue}}else{const j=`Invalid function_call: ${JSON.stringify(R)}. Available options are: ${d.map(D=>JSON.stringify(D.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:R,content:j});continue}let M;try{M=So(A)?await A.parse(k):k}catch(j){this._addMessage({role:r,name:R,content:j instanceof Error?j.message:String(j)});continue}const S=await A.function(M,this),U=Ae(this,_e,"m",Br).call(this,S);if(this._addMessage({role:r,name:R,content:U}),l)return}}async _runTools(e,n,s){var g,_,w;const r="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((g=i==null?void 0:i.function)==null?void 0:g.name),{maxChatCompletions:c=Co}=s||{},f=n.tools.map(R=>{if(qn(R)){if(!R.$callback)throw new H("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:R.$callback,name:R.function.name,description:R.function.description||"",parameters:R.function.parameters,parse:R.$parseRaw,strict:!0}}}return R}),d={};for(const R of f)R.type==="function"&&(d[R.function.name||R.function.function.name]=R.function);const p="tools"in n?f.map(R=>R.type==="function"?{type:"function",function:{name:R.function.name||R.function.function.name,parameters:R.function.parameters,description:R.function.description,strict:R.function.strict}}:R):void 0;for(const R of n.messages)this._addMessage(R,!1);for(let R=0;R<c;++R){const A=(_=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:p,messages:[...this.messages]},s)).choices[0])==null?void 0:_.message;if(!A)throw new H("missing message in ChatCompletion response");if(!((w=A.tool_calls)!=null&&w.length))return;for(const M of A.tool_calls){if(M.type!=="function")continue;const S=M.id,{name:U,arguments:j}=M.function,D=d[U];if(D){if(l&&l!==U){const K=`Invalid tool_call: ${JSON.stringify(U)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:S,content:K});continue}}else{const K=`Invalid tool_call: ${JSON.stringify(U)}. Available options are: ${Object.keys(d).map(He=>JSON.stringify(He)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:S,content:K});continue}let ae;try{ae=So(D)?await D.parse(j):j}catch(K){const He=K instanceof Error?K.message:String(K);this._addMessage({role:r,tool_call_id:S,content:He});continue}const se=await D.function(ae,this),q=Ae(this,_e,"m",Br).call(this,se);if(this._addMessage({role:r,tool_call_id:S,content:q}),l)return}}}}_e=new WeakSet,Nr=function(){return Ae(this,_e,"m",Is).call(this).content??null},Is=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(tn(n)){const{function_call:s,...r}=n,i={...r,content:n.content??null,refusal:n.refusal??null};return s&&(i.function_call=s),i}}throw new H("stream ended without producing a ChatCompletionMessage with role=assistant")},kr=function(){var e,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(tn(r)&&(r!=null&&r.function_call))return r.function_call;if(tn(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},Dr=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(wl(n)&&n.content!=null||xl(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Lr=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},El=function(e){if(e.n!=null&&e.n>1)throw new H("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Br=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Un extends Pl{static runFunctions(e,n,s){const r=new Un,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new Un,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e,n=!0){super._addMessage(e,n),tn(e)&&e.content&&this._emit("content",e.content)}}const Rl=1,Tl=2,Ol=4,Il=8,Ml=16,$l=32,Fl=64,Nl=128,kl=256,Dl=Nl|kl,Ll=Ml|$l|Dl|Fl,Bl=Rl|Tl|Ll,Ul=Ol|Il,_d=Bl|Ul,fe={STR:Rl,NUM:Tl,ARR:Ol,OBJ:Il,NULL:Ml,BOOL:$l,NAN:Fl,INFINITY:Nl,MINUS_INFINITY:kl,INF:Dl,SPECIAL:Ll,ATOM:Bl,COLLECTION:Ul,ALL:_d};class yd extends Error{}class bd extends Error{}function wd(t,e=fe.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return xd(t.trim(),e)}const xd=(t,e)=>{const n=t.length;let s=0;const r=p=>{throw new yd(`${p} at position ${s}`)},i=p=>{throw new bd(`${p} at position ${s}`)},o=()=>(d(),s>=n&&r("Unexpected end of input"),t[s]==='"'?a():t[s]==="{"?l():t[s]==="["?c():t.substring(s,s+4)==="null"||fe.NULL&e&&n-s<4&&"null".startsWith(t.substring(s))?(s+=4,null):t.substring(s,s+4)==="true"||fe.BOOL&e&&n-s<4&&"true".startsWith(t.substring(s))?(s+=4,!0):t.substring(s,s+5)==="false"||fe.BOOL&e&&n-s<5&&"false".startsWith(t.substring(s))?(s+=5,!1):t.substring(s,s+8)==="Infinity"||fe.INFINITY&e&&n-s<8&&"Infinity".startsWith(t.substring(s))?(s+=8,1/0):t.substring(s,s+9)==="-Infinity"||fe.MINUS_INFINITY&e&&1<n-s&&n-s<9&&"-Infinity".startsWith(t.substring(s))?(s+=9,-1/0):t.substring(s,s+3)==="NaN"||fe.NAN&e&&n-s<3&&"NaN".startsWith(t.substring(s))?(s+=3,NaN):f()),a=()=>{const p=s;let g=!1;for(s++;s<n&&(t[s]!=='"'||g&&t[s-1]==="\\");)g=t[s]==="\\"?!g:!1,s++;if(t.charAt(s)=='"')try{return JSON.parse(t.substring(p,++s-Number(g)))}catch(_){i(String(_))}else if(fe.STR&e)try{return JSON.parse(t.substring(p,s-Number(g))+'"')}catch{return JSON.parse(t.substring(p,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},l=()=>{s++,d();const p={};try{for(;t[s]!=="}";){if(d(),s>=n&&fe.OBJ&e)return p;const g=a();d(),s++;try{const _=o();Object.defineProperty(p,g,{value:_,writable:!0,enumerable:!0,configurable:!0})}catch(_){if(fe.OBJ&e)return p;throw _}d(),t[s]===","&&s++}}catch{if(fe.OBJ&e)return p;r("Expected '}' at end of object")}return s++,p},c=()=>{s++;const p=[];try{for(;t[s]!=="]";)p.push(o()),d(),t[s]===","&&s++}catch{if(fe.ARR&e)return p;r("Expected ']' at end of array")}return s++,p},f=()=>{if(s===0){t==="-"&&fe.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(g){if(fe.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(g))}}const p=s;for(t[s]==="-"&&s++;t[s]&&!",]}".includes(t[s]);)s++;s==n&&!(fe.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(p,s))}catch{t.substring(p,s)==="-"&&fe.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(p,t.lastIndexOf("e")))}catch(_){i(String(_))}}},d=()=>{for(;s<n&&` 
\r	`.includes(t[s]);)s++};return o()},Ao=t=>wd(t,fe.ALL^fe.NUM);var jt=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},z=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},ce,ut,Ht,yt,ur,is,fr,dr,hr,os,pr,Eo;class jn extends Pl{constructor(e){super(),ce.add(this),ut.set(this,void 0),Ht.set(this,void 0),yt.set(this,void 0),jt(this,ut,e,"f"),jt(this,Ht,[],"f")}get currentChatCompletionSnapshot(){return z(this,yt,"f")}static fromReadableStream(e){const n=new jn(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new jn(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){var o;super._createChatCompletion;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),z(this,ce,"m",ur).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)z(this,ce,"m",fr).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Je;return this._addChatCompletion(z(this,ce,"m",os).call(this))}async _fromReadableStream(e,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),z(this,ce,"m",ur).call(this),this._connected();const r=it.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(z(this,ce,"m",os).call(this)),z(this,ce,"m",fr).call(this,a),i=a.id;if((o=r.controller.signal)!=null&&o.aborted)throw new Je;return this._addChatCompletion(z(this,ce,"m",os).call(this))}[(ut=new WeakMap,Ht=new WeakMap,yt=new WeakMap,ce=new WeakSet,ur=function(){this.ended||jt(this,yt,void 0,"f")},is=function(n){let s=z(this,Ht,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},z(this,Ht,"f")[n.index]=s,s)},fr=function(n){var r,i,o,a,l,c,f,d,p,g,_,w,R,k,A;if(this.ended)return;const s=z(this,ce,"m",Eo).call(this,n);this._emit("chunk",n,s);for(const M of n.choices){const S=s.choices[M.index];M.delta.content!=null&&((r=S.message)==null?void 0:r.role)==="assistant"&&((i=S.message)!=null&&i.content)&&(this._emit("content",M.delta.content,S.message.content),this._emit("content.delta",{delta:M.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),M.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((a=S.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:M.delta.refusal,snapshot:S.message.refusal}),((l=M.logprobs)==null?void 0:l.content)!=null&&((c=S.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(f=M.logprobs)==null?void 0:f.content,snapshot:((d=S.logprobs)==null?void 0:d.content)??[]}),((p=M.logprobs)==null?void 0:p.refusal)!=null&&((g=S.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(_=M.logprobs)==null?void 0:_.refusal,snapshot:((w=S.logprobs)==null?void 0:w.refusal)??[]});const U=z(this,ce,"m",is).call(this,S);S.finish_reason&&(z(this,ce,"m",hr).call(this,S),U.current_tool_call_index!=null&&z(this,ce,"m",dr).call(this,S,U.current_tool_call_index));for(const j of M.delta.tool_calls??[])U.current_tool_call_index!==j.index&&(z(this,ce,"m",hr).call(this,S),U.current_tool_call_index!=null&&z(this,ce,"m",dr).call(this,S,U.current_tool_call_index)),U.current_tool_call_index=j.index;for(const j of M.delta.tool_calls??[]){const D=(R=S.message.tool_calls)==null?void 0:R[j.index];D!=null&&D.type&&((D==null?void 0:D.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(k=D.function)==null?void 0:k.name,index:j.index,arguments:D.function.arguments,parsed_arguments:D.function.parsed_arguments,arguments_delta:((A=j.function)==null?void 0:A.arguments)??""}):(D==null||D.type,void 0))}}},dr=function(n,s){var o,a,l;if(z(this,ce,"m",is).call(this,n).done_tool_calls.has(s))return;const i=(o=n.message.tool_calls)==null?void 0:o[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(a=z(this,ut,"f"))==null?void 0:a.tools)==null?void 0:l.find(f=>f.type==="function"&&f.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:qn(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},hr=function(n){var r,i;const s=z(this,ce,"m",is).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const o=z(this,ce,"m",pr).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(r=n.logprobs)!=null&&r.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},os=function(){if(this.ended)throw new H("stream has ended, this shouldn't happen");const n=z(this,yt,"f");if(!n)throw new H("request ended without sending any chunks");return jt(this,yt,void 0,"f"),jt(this,Ht,[],"f"),vd(n,z(this,ut,"f"))},pr=function(){var s;const n=(s=z(this,ut,"f"))==null?void 0:s.response_format;return Cl(n)?n:null},Eo=function(n){var s,r,i,o;let a=z(this,yt,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=jt(this,yt,{...c,choices:[]},"f");for(const{delta:f,finish_reason:d,index:p,logprobs:g=null,..._}of n.choices){let w=a.choices[p];if(w||(w=a.choices[p]={finish_reason:d,index:p,message:{},logprobs:g,..._}),g)if(!w.logprobs)w.logprobs=Object.assign({},g);else{const{content:j,refusal:D,...ae}=g;Object.assign(w.logprobs,ae),j&&((s=w.logprobs).content??(s.content=[]),w.logprobs.content.push(...j)),D&&((r=w.logprobs).refusal??(r.refusal=[]),w.logprobs.refusal.push(...D))}if(d&&(w.finish_reason=d,z(this,ut,"f")&&Al(z(this,ut,"f")))){if(d==="length")throw new il;if(d==="content_filter")throw new ol}if(Object.assign(w,_),!f)continue;const{content:R,refusal:k,function_call:A,role:M,tool_calls:S,...U}=f;if(Object.assign(w.message,U),k&&(w.message.refusal=(w.message.refusal||"")+k),M&&(w.message.role=M),A&&(w.message.function_call?(A.name&&(w.message.function_call.name=A.name),A.arguments&&((i=w.message.function_call).arguments??(i.arguments=""),w.message.function_call.arguments+=A.arguments)):w.message.function_call=A),R&&(w.message.content=(w.message.content||"")+R,!w.message.refusal&&z(this,ce,"m",pr).call(this)&&(w.message.parsed=Ao(w.message.content))),S){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:j,id:D,type:ae,function:se,...q}of S){const K=(o=w.message.tool_calls)[j]??(o[j]={});Object.assign(K,q),D&&(K.id=D),ae&&(K.type=ae),se&&(K.function??(K.function={name:se.name??"",arguments:""})),se!=null&&se.name&&(K.function.name=se.name),se!=null&&se.arguments&&(K.function.arguments+=se.arguments,md(z(this,ut,"f"),K)&&(K.function.parsed_arguments=Ao(K.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new it(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function vd(t,e){const{id:n,choices:s,created:r,model:i,system_fingerprint:o,...a}=t,l={...a,id:n,choices:s.map(({message:c,finish_reason:f,index:d,logprobs:p,...g})=>{if(!f)throw new H(`missing finish_reason for choice ${d}`);const{content:_=null,function_call:w,tool_calls:R,...k}=c,A=c.role;if(!A)throw new H(`missing role for choice ${d}`);if(w){const{arguments:M,name:S}=w;if(M==null)throw new H(`missing function_call.arguments for choice ${d}`);if(!S)throw new H(`missing function_call.name for choice ${d}`);return{...g,message:{content:_,function_call:{arguments:M,name:S},role:A,refusal:c.refusal??null},finish_reason:f,index:d,logprobs:p}}return R?{...g,index:d,finish_reason:f,logprobs:p,message:{...k,role:A,content:_,refusal:c.refusal??null,tool_calls:R.map((M,S)=>{const{function:U,type:j,id:D,...ae}=M,{arguments:se,name:q,...K}=U||{};if(D==null)throw new H(`missing choices[${d}].tool_calls[${S}].id
${as(t)}`);if(j==null)throw new H(`missing choices[${d}].tool_calls[${S}].type
${as(t)}`);if(q==null)throw new H(`missing choices[${d}].tool_calls[${S}].function.name
${as(t)}`);if(se==null)throw new H(`missing choices[${d}].tool_calls[${S}].function.arguments
${as(t)}`);return{...ae,id:D,type:j,function:{...K,name:q,arguments:se}}})}}:{...g,message:{...k,content:_,role:A,refusal:c.refusal??null},finish_reason:f,index:d,logprobs:p}}),created:r,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return dd(l,e)}function as(t){return JSON.stringify(t)}class nn extends jn{static fromReadableStream(e){const n=new nn(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,s){const r=new nn(null),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new nn(n),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let jl=class extends Y{parse(e,n){return gd(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>hi(s,e))}runFunctions(e,n){return e.stream?nn.runFunctions(this._client,e,n):Un.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?nn.runTools(this._client,e,n):Un.runTools(this._client,e,n)}stream(e,n){return jn.createChatCompletion(this._client,e,n)}};class Ur extends Y{constructor(){super(...arguments),this.completions=new jl(this._client)}}(function(t){t.Completions=jl})(Ur||(Ur={}));var I=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},$e=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},de,jr,st,ys,Ke,Mt,qt,It,Ms,Ne,bs,ws,Fn,An,En,Po,Ro,To,Oo,Io,Mo,$o;class qe extends Sl{constructor(){super(...arguments),de.add(this),jr.set(this,[]),st.set(this,{}),ys.set(this,{}),Ke.set(this,void 0),Mt.set(this,void 0),qt.set(this,void 0),It.set(this,void 0),Ms.set(this,void 0),Ne.set(this,void 0),bs.set(this,void 0),ws.set(this,void 0),Fn.set(this,void 0)}[(jr=new WeakMap,st=new WeakMap,ys=new WeakMap,Ke=new WeakMap,Mt=new WeakMap,qt=new WeakMap,It=new WeakMap,Ms=new WeakMap,Ne=new WeakMap,bs=new WeakMap,ws=new WeakMap,Fn=new WeakMap,de=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new qe;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=it.fromReadableStream(e,this.controller);for await(const o of r)I(this,de,"m",An).call(this,o);if((i=r.controller.signal)!=null&&i.aborted)throw new Je;return this._addRun(I(this,de,"m",En).call(this))}toReadableStream(){return new it(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r,i){const o=new qe;return o._run(()=>o._runToolAssistantStream(e,n,s,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,s,r,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},l=await e.submitToolOutputs(n,s,a,{...i,signal:this.controller.signal});this._connected();for await(const f of l)I(this,de,"m",An).call(this,f);if((c=l.controller.signal)!=null&&c.aborted)throw new Je;return this._addRun(I(this,de,"m",En).call(this))}static createThreadAssistantStream(e,n,s){const r=new qe;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const i=new qe;return i._run(()=>i._runAssistantStream(e,n,s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return I(this,bs,"f")}currentRun(){return I(this,ws,"f")}currentMessageSnapshot(){return I(this,Ke,"f")}currentRunStepSnapshot(){return I(this,Fn,"f")}async finalRunSteps(){return await this.done(),Object.values(I(this,st,"f"))}async finalMessages(){return await this.done(),Object.values(I(this,ys,"f"))}async finalRun(){if(await this.done(),!I(this,Mt,"f"))throw Error("Final run was not received.");return I(this,Mt,"f")}async _createThreadAssistantStream(e,n,s){var a;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of o)I(this,de,"m",An).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Je;return this._addRun(I(this,de,"m",En).call(this))}async _createAssistantStream(e,n,s,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},a=await e.create(n,o,{...r,signal:this.controller.signal});this._connected();for await(const c of a)I(this,de,"m",An).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Je;return this._addRun(I(this,de,"m",En).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let i=e[s];if(i==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(cr(i)&&cr(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...r);continue}for(const o of r){if(!cr(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);e[s]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r,i){return await this._createToolAssistantStream(s,e,n,r,i)}}An=function(e){if(!this.ended)switch($e(this,bs,e,"f"),I(this,de,"m",To).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":I(this,de,"m",$o).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":I(this,de,"m",Ro).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":I(this,de,"m",Po).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},En=function(){if(this.ended)throw new H("stream has ended, this shouldn't happen");if(!I(this,Mt,"f"))throw Error("Final run has not been received");return I(this,Mt,"f")},Po=function(e){const[n,s]=I(this,de,"m",Io).call(this,e,I(this,Ke,"f"));$e(this,Ke,n,"f"),I(this,ys,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=n.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=I(this,qt,"f")){if(I(this,It,"f"))switch(I(this,It,"f").type){case"text":this._emit("textDone",I(this,It,"f").text,I(this,Ke,"f"));break;case"image_file":this._emit("imageFileDone",I(this,It,"f").image_file,I(this,Ke,"f"));break}$e(this,qt,r.index,"f")}$e(this,It,n.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(I(this,qt,"f")!==void 0){const r=e.data.content[I(this,qt,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,I(this,Ke,"f"));break;case"text":this._emit("textDone",r.text,I(this,Ke,"f"));break}}I(this,Ke,"f")&&this._emit("messageDone",e.data),$e(this,Ke,void 0,"f")}},Ro=function(e){const n=I(this,de,"m",Oo).call(this,e);switch($e(this,Fn,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==I(this,Ms,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(I(this,Ne,"f")&&this._emit("toolCallDone",I(this,Ne,"f")),$e(this,Ms,i.index,"f"),$e(this,Ne,n.step_details.tool_calls[i.index],"f"),I(this,Ne,"f")&&this._emit("toolCallCreated",I(this,Ne,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":$e(this,Fn,void 0,"f"),e.data.step_details.type=="tool_calls"&&I(this,Ne,"f")&&(this._emit("toolCallDone",I(this,Ne,"f")),$e(this,Ne,void 0,"f")),this._emit("runStepDone",e.data,n);break}},To=function(e){I(this,jr,"f").push(e),this._emit("event",e)},Oo=function(e){switch(e.event){case"thread.run.step.created":return I(this,st,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=I(this,st,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=qe.accumulateDelta(n,s.delta);I(this,st,"f")[e.data.id]=r}return I(this,st,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":I(this,st,"f")[e.data.id]=e.data;break}if(I(this,st,"f")[e.data.id])return I(this,st,"f")[e.data.id];throw new Error("No snapshot available")},Io=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=I(this,de,"m",Mo).call(this,i,o)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Mo=function(e,n){return qe.accumulateDelta(n,e)},$o=function(e){switch($e(this,ws,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":$e(this,Mt,e.data,"f"),I(this,Ne,"f")&&(this._emit("toolCallDone",I(this,Ne,"f")),$e(this,Ne,void 0,"f"));break}};class pi extends Y{create(e,n,s){return this._client.post(`/threads/${e}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return Re(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,mi,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class mi extends Qe{}pi.MessagesPage=mi;class gi extends Y{retrieve(e,n,s,r={},i){return Re(r)?this.retrieve(e,n,s,{},r):this._client.get(`/threads/${e}/runs/${n}/steps/${s}`,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,s={},r){return Re(s)?this.list(e,n,{},s):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,_i,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class _i extends Qe{}gi.RunStepsPage=_i;class Xn extends Y{constructor(){super(...arguments),this.steps=new gi(this._client)}create(e,n,s){const{include:r,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}retrieve(e,n,s){return this._client.get(`/threads/${e}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return Re(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,yi,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}createAndStream(e,n,s){return qe.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:{...s==null?void 0:s.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Kn(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,s){return qe.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(e,n,s,r){const i=await this.submitToolOutputs(e,n,s,r);return await this.poll(e,i.id,r)}submitToolOutputsStream(e,n,s,r){return qe.createToolAssistantStream(e,n,this._client.beta.threads.runs,s,r)}}class yi extends Qe{}Xn.RunsPage=yi;Xn.Steps=gi;Xn.RunStepsPage=_i;class cn extends Y{constructor(){super(...arguments),this.runs=new Xn(this._client),this.messages=new pi(this._client)}create(e={},n){return Re(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/threads/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(e,n){return qe.createThreadAssistantStream(e,this._client.beta.threads,n)}}cn.Runs=Xn;cn.RunsPage=yi;cn.Messages=pi;cn.MessagesPage=mi;const Sd=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};let bi=class extends Y{create(e,n,s){return this._client.post(`/vector_stores/${e}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},s){return Re(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,qs,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...s,headers:r}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Kn(a);break;case"failed":case"completed":return o}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}};class qs extends Qe{}bi.VectorStoreFilesPage=qs;class Hl extends Y{create(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s={},r){return Re(s)?this.listFiles(e,n,{},s):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,qs,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Kn(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(r==null?void 0:r.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),c=[...s];async function f(p){for(let g of p){const _=await a.files.create({file:g,purpose:"assistants"},r);c.push(_.id)}}const d=Array(o).fill(l).map(f);return await Sd(d),await this.createAndPoll(e,{file_ids:c})}}class un extends Y{constructor(){super(...arguments),this.files=new bi(this._client),this.fileBatches=new Hl(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/vector_stores/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return Re(e)?this.list({},e):this._client.getAPIList("/vector_stores",wi,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class wi extends Qe{}un.VectorStoresPage=wi;un.Files=bi;un.VectorStoreFilesPage=qs;un.FileBatches=Hl;class Bt extends Y{constructor(){super(...arguments),this.vectorStores=new un(this._client),this.chat=new Ur(this._client),this.assistants=new fi(this._client),this.threads=new cn(this._client)}}Bt.VectorStores=un;Bt.VectorStoresPage=wi;Bt.Assistants=fi;Bt.AssistantsPage=di;Bt.Threads=cn;class Vl extends Y{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Wl extends Y{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class xi extends Y{create(e,n){return this._client.post("/files",an({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Re(e)?this.list({},e):this._client.getAPIList("/files",vi,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await Kn(n),o=await this.retrieve(e),Date.now()-i>s)throw new ai({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return o}}class vi extends Qe{}xi.FileObjectsPage=vi;class Si extends Y{list(e,n={},s){return Re(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Ci,{query:n,...s})}}class Ci extends Qe{}Si.FineTuningJobCheckpointsPage=Ci;class fn extends Y{constructor(){super(...arguments),this.checkpoints=new Si(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Re(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Ai,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return Re(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Ei,{query:n,...s})}}class Ai extends Qe{}class Ei extends Qe{}fn.FineTuningJobsPage=Ai;fn.FineTuningJobEventsPage=Ei;fn.Checkpoints=Si;fn.FineTuningJobCheckpointsPage=Ci;class Gn extends Y{constructor(){super(...arguments),this.jobs=new fn(this._client)}}Gn.Jobs=fn;Gn.FineTuningJobsPage=Ai;Gn.FineTuningJobEventsPage=Ei;class Kl extends Y{createVariation(e,n){return this._client.post("/images/variations",an({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",an({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class Pi extends Y{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Ri,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Ri extends fd{}Pi.ModelsPage=Ri;class Jl extends Y{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class ql extends Y{create(e,n,s){return this._client.post(`/uploads/${e}/parts`,an({body:n,...s}))}}class Ti extends Y{constructor(){super(...arguments),this.parts=new ql(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(`/uploads/${e}/complete`,{body:n,...s})}}Ti.Parts=ql;var Xl;class W extends zf{constructor({baseURL:e=rs("OPENAI_BASE_URL"),apiKey:n=rs("OPENAI_API_KEY"),organization:s=rs("OPENAI_ORG_ID")??null,project:r=rs("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new H("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:s,project:r,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&cd())throw new H(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new Vl(this),this.chat=new li(this),this.embeddings=new Wl(this),this.files=new xi(this),this.images=new Kl(this),this.audio=new Jn(this),this.moderations=new Jl(this),this.models=new Pi(this),this.fineTuning=new Gn(this),this.beta=new Bt(this),this.batches=new ci(this),this.uploads=new Ti(this),this._options=o,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Nf(e,{arrayFormat:"brackets"})}}Xl=W;W.OpenAI=Xl;W.DEFAULT_TIMEOUT=6e5;W.OpenAIError=H;W.APIError=me;W.APIConnectionError=Ws;W.APIConnectionTimeoutError=ai;W.APIUserAbortError=Je;W.NotFoundError=el;W.ConflictError=tl;W.RateLimitError=sl;W.BadRequestError=Ya;W.AuthenticationError=za;W.InternalServerError=rl;W.PermissionDeniedError=Za;W.UnprocessableEntityError=nl;W.toFile=ul;W.fileFromPath=Ga;W.Completions=Vl;W.Chat=li;W.Embeddings=Wl;W.Files=xi;W.FileObjectsPage=vi;W.Images=Kl;W.Audio=Jn;W.Moderations=Jl;W.Models=Pi;W.ModelsPage=Ri;W.FineTuning=Gn;W.Beta=Bt;W.Batches=ci;W.BatchesPage=ui;W.Uploads=Ti;const Gl=()=>JSON.parse(localStorage.getItem("settings")||"{}"),Cd=()=>{const{apiKey:t}=Gl();return t?new W({baseURL:"https://openrouter.ai/api/v1",apiKey:t,dangerouslyAllowBrowser:!0}):null};let mr="";const Ad=async()=>{const t=Gl(),e=Cd();if(!e)throw new Error("API key missing. Please set your OpenRouter API key in the settings.");const{selectedModel:n="",promptTone:s="",customTone:r="",promptType:i="",customType:o=""}=t,a="You are an AI designed to generate highly creative, unique, and engaging stream titles. Each title should be fresh, original, and distinct from any previous suggestions. Aim for variety and creativity—feel free to be playful, thought-provoking, or unexpected. The title must be concise, standalone, and not part of a list or include additional suggestions—just one unique title.",l=`Seed-${Math.random().toString(36).substring(7)}`,c=mr?`Create a new stream title that is distinct from the previous one: "${mr}". The new title should be fresh, original, and avoid repeating the same tone or structure. Tone: ${s.toLowerCase()}.`:`Create a brand-new stream title under 100 characters. Tone: ${s.toLowerCase()}.`,f=r?`${c} ${r}`:c,d=_=>_.length<100;console.log("Selected model:",n);const g=await(async()=>{var _;try{let R=(await e.chat.completions.create({model:n.includes("/")?n:`openai/${n}`,messages:[{role:"system",content:a},{role:"user",content:`${f} (Seed: ${l})`}],temperature:2,max_tokens:30})).choices[0].message.content.replace(/^["']|["']$/g,"").trim();return console.log(`Generated title: "${R}" (Length: ${R.length})`),d(R)?R:"Could not generate stream title please try again"}catch(w){throw console.error("Error details:",((_=w.response)==null?void 0:_.data)||w),new Error(`Title generation failed: ${w.message}`)}})();return mr=g,g},Ed={class:"mb-4"},Pd={class:"flex gap-2 mb-4"},Rd={class:"space-y-2"},Td={class:"flex items-center gap-2 w-full mr-3"},Od=["src","alt"],Id=["onUpdate:modelValue","placeholder"],Md=["onClick"],$d={__name:"UpdateTitles",setup(t){const e=oi(),n=vs(""),s=vs([]),r=async()=>{try{n.value=await Ad()}catch(o){alert(o.message)}},i=()=>{e.openSettings()};return(o,a)=>(he(),Pe(Le,null,[Ge(Af),T("div",Ed,[Ee(T("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),type:"text",placeholder:"Enter title...",class:"w-full py-2 px-4 rounded-full bg-[#2a2a2a] border-none outline-none"},null,512),[[rn,n.value]])]),T("div",Pd,[T("button",{onClick:a[1]||(a[1]=(...l)=>o.updateAllTitles&&o.updateAllTitles(...l)),class:"bg-[#262A49] px-4 py-2 rounded-full hover:bg-[#1161EE]"}," UPDATE ALL "),T("button",{onClick:a[2]||(a[2]=(...l)=>o.fetchBroadcasts&&o.fetchBroadcasts(...l)),class:"bg-[#363636] px-4 py-2 rounded-full hover:bg-[#8F8F8F]"}," REFRESH "),T("button",{class:"px-4 py-2 rounded-full ml-auto bg-green-600 hover:bg-green-500",onClick:r}," GENERATE "),T("button",{class:"ml-2 text-xl flex items-center justify-center",onClick:i},a[3]||(a[3]=[T("i",{class:"fa-solid fa-gear text-gray-400 hover:text-white"},null,-1)]))]),T("div",Rd,[(he(!0),Pe(Le,null,ma(s.value,l=>(he(),Pe("div",{key:l.id,class:"flex items-center justify-between p-3"},[T("div",Td,[T("img",{src:`/src/assets/img/${l.type}.svg`,alt:`${l.type} icon`,class:"w-6 h-6"},null,8,Od),Ee(T("input",{"onUpdate:modelValue":c=>l.title=c,type:"text",placeholder:`Enter ${l.type} title...`,class:"w-full py-2 px-4 rounded-full bg-[#2a2a2a] border-none outline-none"},null,8,Id),[[rn,l.title]])]),T("button",{onClick:c=>o.updatePlatformTitle(l),class:"px-4 py-1 rounded bg-[#262A49] hover:bg-[#1161EE]"}," UPDATE ",8,Md)]))),128))])],64))}},Fd={class:"bg-[#2a2a2a] p-6 max-w-lg mx-auto space-y-5"},Nd={key:0},kd={class:"flex flex-wrap gap-4"},Dd={class:"space-y-2"},Ld={class:"space-y-2"},Bd={class:"space-y-2"},Ud={class:"relative"},jd=["type"],Hd={key:0},Vd={key:1},Wd=["value"],Kd={key:0,class:"mt-4 text-gray-300 flex flex-wrap gap-4"},Jd={class:"flex justify-between"},qd={class:"w-1/2 mr-4"},Xd={key:0},Gd={class:"w-1/2 ml-4"},Qd={key:0},Yd={class:"flex justify-end space-x-3"},zd={__name:"UpdateSettings",setup(t){const e=oi(),n=vs(!1),s=vs([]),r=async()=>{try{const c=await(await fetch("https://openrouter.ai/api/v1/models",{headers:{Authorization:`Bearer ${e.state.apiKey}`}})).json();c.data&&Array.isArray(c.data)?s.value=c.data.sort((f,d)=>{const p=f.name.includes("(free)"),g=d.name.includes("(free)");return p===g?0:p?-1:1}):console.error("Unexpected data format:",c)}catch(l){console.error("Error fetching models:",l)}};ha(()=>{e.state.apiKey&&r()}),fs(()=>e.state.apiKey,l=>{l&&r()});const i=()=>{n.value=!n.value},o=l=>{if(!l&&l!==0)return"N/A";const c=Number(l);return isNaN(c)?"N/A":`$${c.toFixed(6)}/1k tokens`},a=La(()=>s.value.find(l=>l.id===e.state.selectedModel));return(l,c)=>{var f,d,p,g;return he(),Pe("div",Fd,[c[31]||(c[31]=T("h2",{class:"text-xl font-semibold"},"Settings",-1)),T("div",null,[c[15]||(c[15]=T("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Mode",-1)),Ee(T("select",{"onUpdate:modelValue":c[0]||(c[0]=_=>J(e).state.mode=_),class:"w-full bg-[#1f1f1f] rounded-md py-2 px-3 border border-gray-600"},c[14]||(c[14]=[T("option",{disabled:"",selected:"",value:""},"Select Mode",-1),T("option",{value:"touchPortal"},"Touch Portal",-1),T("option",{value:"streamerBot"},"StreamerBot",-1)]),512),[[wn,J(e).state.mode]])]),J(e).state.mode==="touchPortal"?(he(),Pe("div",Nd,[c[21]||(c[21]=T("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Platforms",-1)),T("div",kd,[T("div",Dd,[T("div",null,[Ee(T("input",{type:"checkbox",id:"twitch","onUpdate:modelValue":c[1]||(c[1]=_=>J(e).state.platforms.twitch=_),class:"bg-[#1f1f1f]"},null,512),[[Wt,J(e).state.platforms.twitch]]),c[16]||(c[16]=T("label",{for:"twitch",class:"text-gray-300 ml-2"},"Twitch",-1))]),T("div",null,[Ee(T("input",{type:"checkbox",id:"kick","onUpdate:modelValue":c[2]||(c[2]=_=>J(e).state.platforms.kick=_),class:"bg-[#1f1f1f]"},null,512),[[Wt,J(e).state.platforms.kick]]),c[17]||(c[17]=T("label",{for:"kick",class:"text-gray-300 ml-2"},"Kick",-1))])]),T("div",Ld,[T("div",null,[Ee(T("input",{type:"checkbox",id:"youtube","onUpdate:modelValue":c[3]||(c[3]=_=>J(e).state.platforms.youtube=_),class:"bg-[#1f1f1f]"},null,512),[[Wt,J(e).state.platforms.youtube]]),c[18]||(c[18]=T("label",{for:"youtube",class:"text-gray-300 ml-2"},"YouTube",-1))]),T("div",null,[Ee(T("input",{type:"checkbox",id:"youtubeShorts","onUpdate:modelValue":c[4]||(c[4]=_=>J(e).state.platforms.youtubeShorts=_),class:"bg-[#1f1f1f]"},null,512),[[Wt,J(e).state.platforms.youtubeShorts]]),c[19]||(c[19]=T("label",{for:"youtubeShorts",class:"text-gray-300 ml-2"},"YouTube Shorts",-1))])]),T("div",Bd,[T("div",null,[Ee(T("input",{type:"checkbox",id:"trovo","onUpdate:modelValue":c[5]||(c[5]=_=>J(e).state.platforms.trovo=_),class:"bg-[#1f1f1f]"},null,512),[[Wt,J(e).state.platforms.trovo]]),c[20]||(c[20]=T("label",{for:"trovo",class:"text-gray-300 ml-2"},"Trovo",-1))])])])])):ts("",!0),T("div",null,[c[22]||(c[22]=T("label",{for:"apiKey",class:"block text-sm font-medium text-gray-300 mb-1"},"API Key",-1)),T("div",Ud,[Ee(T("input",{"onUpdate:modelValue":c[6]||(c[6]=_=>J(e).state.apiKey=_),type:n.value?"text":"password",id:"apiKey",placeholder:"Enter your API Key",class:"w-full bg-[#1f1f1f] rounded-md py-2 px-3 border border-gray-600 placeholder-gray-400"},null,8,jd),[[hf,J(e).state.apiKey]]),T("button",{onClick:i,type:"button",class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300"},[n.value?(he(),Pe("span",Hd,"🙈")):(he(),Pe("span",Vd,"👁️"))])])]),T("div",null,[c[26]||(c[26]=T("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Select Model",-1)),Ee(T("select",{"onUpdate:modelValue":c[7]||(c[7]=_=>J(e).state.selectedModel=_),class:"w-full bg-[#1f1f1f] rounded-md py-2 px-3 border border-gray-600"},[c[23]||(c[23]=T("option",{disabled:"",selected:"",value:""},"Select a Model",-1)),(he(!0),Pe(Le,null,ma(s.value,_=>(he(),Pe("option",{key:_.id,value:_.id},cs(_.name),9,Wd))),128))],512),[[wn,J(e).state.selectedModel]]),a.value?(he(),Pe("div",Kd,[T("small",null,[c[24]||(c[24]=T("strong",null,"Prompt Price:",-1)),Er(" "+cs(o((d=(f=a.value)==null?void 0:f.pricing)==null?void 0:d.prompt)),1)]),T("small",null,[c[25]||(c[25]=T("strong",null,"Completion Price:",-1)),Er(" "+cs(o((g=(p=a.value)==null?void 0:p.pricing)==null?void 0:g.completion)),1)])])):ts("",!0)]),T("div",Jd,[T("div",qd,[c[28]||(c[28]=T("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Prompt Tone:",-1)),Ee(T("select",{"onUpdate:modelValue":c[8]||(c[8]=_=>J(e).state.promptTone=_),class:"w-full bg-[#1f1f1f] rounded-md py-2 px-3 border border-gray-600 mb-2"},c[27]||(c[27]=[Gi('<option value="Happy">Happy</option><option value="Funny">Funny</option><option value="Weird">Weird</option><option value="Motivational">Motivational</option><option value="Chill">Chill</option><option value="Excited">Excited</option><option value="Confident">Confident</option><option value="Mysterious">Mysterious</option><option value="Sarcastic">Sarcastic</option><option value="Custom">Custom</option>',10)]),512),[[wn,J(e).state.promptTone]]),J(e).state.promptTone==="Custom"?(he(),Pe("div",Xd,[Ee(T("input",{"onUpdate:modelValue":c[9]||(c[9]=_=>J(e).state.customTone=_),type:"text",placeholder:"Enter custom tone...",class:"w-full bg-[#1f1f1f] rounded-md py-2 px-3 border border-gray-600 placeholder-gray-400 mt-2"},null,512),[[rn,J(e).state.customTone]])])):ts("",!0)]),T("div",Gd,[c[30]||(c[30]=T("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Prompt Type:",-1)),Ee(T("select",{"onUpdate:modelValue":c[10]||(c[10]=_=>J(e).state.promptType=_),class:"w-full bg-[#1f1f1f] rounded-md py-2 px-3 border border-gray-600 mb-2"},c[29]||(c[29]=[Gi('<option value="General">General</option><option value="Gaming">Gaming</option><option value="Music">Music</option><option value="Chatting">Chatting</option><option value="IRL">IRL</option><option value="Custom">Custom</option>',6)]),512),[[wn,J(e).state.promptType]]),J(e).state.promptType==="Custom"?(he(),Pe("div",Qd,[Ee(T("input",{"onUpdate:modelValue":c[11]||(c[11]=_=>J(e).state.customType=_),type:"text",placeholder:"Enter custom type...",class:"w-full bg-[#1f1f1f] rounded-md py-2 px-3 border border-gray-600 placeholder-gray-400 mt-2"},null,512),[[rn,J(e).state.customType]])])):ts("",!0)])]),T("div",Yd,[T("button",{onClick:c[12]||(c[12]=(..._)=>J(e).closeSettings&&J(e).closeSettings(..._)),class:"bg-gray-700 text-gray-300 px-4 py-2 rounded-md hover:bg-gray-600 transition"}," Cancel "),T("button",{onClick:c[13]||(c[13]=(..._)=>J(e).saveSettings&&J(e).saveSettings(..._)),class:"bg-blue-600 px-4 py-2 rounded-md hover:bg-blue-500 transition"}," Save ")])])}}},Zd={class:"max-w-lg mx-auto mt-4"},eh={__name:"App",setup(t){const e=oi();return(n,s)=>(he(),Pe("div",Zd,[J(e).state.isOpen?(he(),Ar(zd,{key:1})):(he(),Ar($d,{key:0}))]))}};_f(eh).mount("#app");
